<HTML>
<HEAD>
<TITLE>D:\Pfc\Src\oaidtb\gui\VisualOptionsPanel.java</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="KEYWORDS" CONTENT="IntelliJ_IDEA_Html">
</HEAD>
<BODY BGCOLOR="#d3d2aa">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial,Helvetica" COLOR="#000000">
D:\Pfc\Src\oaidtb\gui\VisualOptionsPanel.java</FONT>
</center></TD></TR></TABLE></FONT>
<PRE>

<FONT COLOR=0 STYLE="font-style:normal">1    </FONT><FONT COLOR="#808080"><I>/* 
<FONT COLOR=0 STYLE="font-style:normal">2    </FONT> *    This program is free software; you can redistribute it and/or modify 
<FONT COLOR=0 STYLE="font-style:normal">3    </FONT> *    it under the terms of the GNU General Public License as published by 
<FONT COLOR=0 STYLE="font-style:normal">4    </FONT> *    the Free Software Foundation; either version 2 of the License, or 
<FONT COLOR=0 STYLE="font-style:normal">5    </FONT> *    (at your option) any later version. 
<FONT COLOR=0 STYLE="font-style:normal">6    </FONT> * 
<FONT COLOR=0 STYLE="font-style:normal">7    </FONT> *    This program is distributed in the hope that it will be useful, 
<FONT COLOR=0 STYLE="font-style:normal">8    </FONT> *    but WITHOUT ANY WARRANTY; without even the implied warranty of 
<FONT COLOR=0 STYLE="font-style:normal">9    </FONT> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the 
<FONT COLOR=0 STYLE="font-style:normal">10   </FONT> *    GNU General Public License for more details. 
<FONT COLOR=0 STYLE="font-style:normal">11   </FONT> * 
<FONT COLOR=0 STYLE="font-style:normal">12   </FONT> *    You should have received a copy of the GNU General Public License 
<FONT COLOR=0 STYLE="font-style:normal">13   </FONT> *    along with this program; if not, write to the Free Software 
<FONT COLOR=0 STYLE="font-style:normal">14   </FONT> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA. 
<FONT COLOR=0 STYLE="font-style:normal">15   </FONT> */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">16   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">17   </FONT></FONT><FONT COLOR="#808080"><I>/* 
<FONT COLOR=0 STYLE="font-style:normal">18   </FONT> *    VisualOptionsPanel.java 
<FONT COLOR=0 STYLE="font-style:normal">19   </FONT> *    Copyright (C) 2002 Santiago David Villalba 
<FONT COLOR=0 STYLE="font-style:normal">20   </FONT> * 
<FONT COLOR=0 STYLE="font-style:normal">21   </FONT> */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">22   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">23   </FONT></FONT><FONT COLOR="#000080"><B>package</B></FONT><FONT COLOR="#000000"> oaidtb.gui; 
<FONT COLOR=0 STYLE="font-style:normal">24   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">25   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\AdaBoostMH.java.html">oaidtb.boosters.AdaBoostMH</A>; 
<FONT COLOR=0 STYLE="font-style:normal">26   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\Booster.java.html">oaidtb.boosters.Booster</A>; 
<FONT COLOR=0 STYLE="font-style:normal">27   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">oaidtb.boosters.IterativeUpdatableClassifier</A>; 
<FONT COLOR=0 STYLE="font-style:normal">28   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\Utils.java.html">oaidtb.misc.Utils</A>; 
<FONT COLOR=0 STYLE="font-style:normal">29   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\LabeledSlider.java.html">oaidtb.misc.guiUtils.LabeledSlider</A>; 
<FONT COLOR=0 STYLE="font-style:normal">30   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">oaidtb.misc.guiUtils.MyAbstractAction</A>; 
<FONT COLOR=0 STYLE="font-style:normal">31   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\javaTutorial\SwingWorker.java.html">oaidtb.misc.javaTutorial.SwingWorker</A>; 
<FONT COLOR=0 STYLE="font-style:normal">32   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Arbitrable.java.html">oaidtb.misc.mediator.Arbitrable</A>; 
<FONT COLOR=0 STYLE="font-style:normal">33   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Colleague.java.html">oaidtb.misc.mediator.Colleague</A>; 
<FONT COLOR=0 STYLE="font-style:normal">34   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Mediator.java.html">oaidtb.misc.mediator.Mediator</A>; 
<FONT COLOR=0 STYLE="font-style:normal">35   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> weka.classifiers.Classifier; 
<FONT COLOR=0 STYLE="font-style:normal">36   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> weka.classifiers.DistributionClassifier; 
<FONT COLOR=0 STYLE="font-style:normal">37   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> weka.core.Instance; 
<FONT COLOR=0 STYLE="font-style:normal">38   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> weka.core.Instances; 
<FONT COLOR=0 STYLE="font-style:normal">39   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> weka.core.SerializedObject; 
<FONT COLOR=0 STYLE="font-style:normal">40   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">41   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> javax.swing.*; 
<FONT COLOR=0 STYLE="font-style:normal">42   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> javax.swing.event.ChangeEvent; 
<FONT COLOR=0 STYLE="font-style:normal">43   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> javax.swing.event.ChangeListener; 
<FONT COLOR=0 STYLE="font-style:normal">44   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.*; 
<FONT COLOR=0 STYLE="font-style:normal">45   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.event.ActionEvent; 
<FONT COLOR=0 STYLE="font-style:normal">46   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.event.ComponentAdapter; 
<FONT COLOR=0 STYLE="font-style:normal">47   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.event.ComponentEvent; 
<FONT COLOR=0 STYLE="font-style:normal">48   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.event.KeyEvent; 
<FONT COLOR=0 STYLE="font-style:normal">49   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.geom.Rectangle2D; 
<FONT COLOR=0 STYLE="font-style:normal">50   </FONT></FONT><FONT COLOR="#000080"><B>import</B></FONT><FONT COLOR="#000000"> java.awt.image.BufferedImage; 
<FONT COLOR=0 STYLE="font-style:normal">51   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">52   </FONT></FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">53   </FONT> * Panel en el que se muestran las opciones de visualización de un DrawingPanel; también permite 
<FONT COLOR=0 STYLE="font-style:normal">54   </FONT> * la construcción de imágenes que representen la hipótesis de un clasificador para mostrarlas 
<FONT COLOR=0 STYLE="font-style:normal">55   </FONT> * en él. 
<FONT COLOR=0 STYLE="font-style:normal">56   </FONT> * 
<FONT COLOR=0 STYLE="font-style:normal">57   </FONT> * </I></FONT><FONT COLOR="#808080"><B>@author</B></FONT><FONT COLOR="#808080"><I> </I></FONT><FONT COLOR="#808080"><I>&LT;a</I></FONT><FONT COLOR="#808080"><I> href="mailto:sdvb@wanadoo.es"</I></FONT><FONT COLOR="#808080"><I>&GT;</I></FONT><FONT COLOR="#808080"><I>Santiago David Villalba Bartolom&eacute;</I></FONT><FONT COLOR="#808080"><I>&LT;/a&GT;</I></FONT><FONT COLOR="#808080"><I> 
<FONT COLOR=0 STYLE="font-style:normal">58   </FONT> * </I></FONT><FONT COLOR="#808080"><B>@version</B></FONT><FONT COLOR="#808080"><I> $Revision: 1.2 $ 
<FONT COLOR=0 STYLE="font-style:normal">59   </FONT> */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">60   </FONT></FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>class</B></FONT><FONT COLOR="#000000"> VisualOptionsPanel </FONT><FONT COLOR="#000080"><B>extends</B></FONT><FONT COLOR="#000000"> JPanel </FONT><FONT COLOR="#000080"><B>implements</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Arbitrable.java.html">Arbitrable</A>{ 
<FONT COLOR=0 STYLE="font-style:normal">61   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">62   </FONT>  </FONT><FONT COLOR="#808080"><I>/** El panel de dibujado */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">63   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\gui\DrawingPanel.java.html">DrawingPanel</A> m_DrawingPanel; 
<FONT COLOR=0 STYLE="font-style:normal">64   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">65   </FONT>  </FONT><FONT COLOR="#808080"><I>/** El clasificador sobre el que se está trabajando actualmente */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">66   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> Classifier m_Classifier; 
<FONT COLOR=0 STYLE="font-style:normal">67   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">68   </FONT>  </FONT><FONT COLOR="#808080"><I>//Mostrar o no las instancias de entrenamiento y test, la imagen de hipótesis y la rejilla */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">69   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Checkbox de mostrar o no las instancias de entrenamiento */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">70   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JCheckBox m_ShowTrainInstancesCB = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JCheckBox(</FONT><FONT COLOR="#008000"><B>"Show train set"</B></FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">71   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Checkbox de mostrar o no las instancias de prueba */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">72   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JCheckBox m_ShowTestInstancesCB = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JCheckBox(</FONT><FONT COLOR="#008000"><B>"Show test set"</B></FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">73   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Checkbox de mostrar o no la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">74   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JCheckBox m_ShowHypImageCB = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JCheckBox(</FONT><FONT COLOR="#008000"><B>"Show hypothesis"</B></FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">75   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Checkbox de mostrar o no la imagen de la rejilla */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">76   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JCheckBox m_ShowGridCB = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JCheckBox(</FONT><FONT COLOR="#008000"><B>"Show grid"</B></FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">77   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">78   </FONT>  </FONT><FONT COLOR="#808080"><I>//Permitir la reutilización de las operaciones ya realizadas para construir la imagen de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">79   </FONT>  </FONT><FONT COLOR="#808080"><I>//cuando estemos utilizando un Booster (no volver a hacer lo mismo).</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">80   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Checkbox para elejir guardar o no los resultados de los boosters */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">81   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JCheckBox m_StoreBoosterResultsCB = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JCheckBox(</FONT><FONT COLOR="#008000"><B>"Store classifier results"</B></FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">82   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Última iteración utilizada para construir la imagen de hipótesis de un booster */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">83   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> m_LastIterationUsed = -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">84   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Controlar la configuración de la rejilla utilizada para construir la última imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">85   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> m_LastGridWidth = -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, m_LastGridHeigt = -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">86   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Controlar la última región para la que hemos creado una imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">87   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> Rectangle2D.Double m_LastRegion = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Rectangle2D.Double(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">88   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Los resultados del booster: [Índice de punto] --&GT; [distribución de probabilidades de colores */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">89   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[][] m_BoosterResults = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">90   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Indica si el booster ha sido reiniciado o es otro */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">91   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>boolean</B></FONT><FONT COLOR="#000000"> m_NewIterativeUpdatableClassifier = </FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">92   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">93   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Etiqueta donde mostramos el clasificador de trabajo actual */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">94   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JLabel m_ClassifierLabel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JLabel(</FONT><FONT COLOR="#008000"><B>"Classifier: none"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">95   </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">96   </FONT>  </FONT><FONT COLOR="#808080"><I>//Las imágenes (utilizando y no utilizando grados de confianza) que representan la hipótesis del clasificador</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">97   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Imagen que representa la última hipótesis construida utilizando grados de confianza */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">98   </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> BufferedImage m_HypothesisSumImage = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">99   </FONT>  </FONT><FONT COLOR="#808080"><I>/** Imagen que representa la última hipótesis construida */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">100  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> BufferedImage m_HypothesisImage = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">101  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">102  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Configurar el porcentaje del color original que será utilizado para representarlo en las imágenes de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">103  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\LabeledSlider.java.html">LabeledSlider</A> m_ColorTransformSlider = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\LabeledSlider.java.html">LabeledSlider</A>(</FONT><FONT COLOR="#008000"><B>"Original color percentage: "</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">104  </FONT>  </FONT><FONT COLOR="#808080"><I>/** El porcentaje del color original que será utilizado para representarlo en las imágenes de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">105  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> m_ColorTransform = </FONT><FONT COLOR="#0000ff">0.5</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">106  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">107  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Utilizar (si están disponibles) los grados de confianza del clasificador para construir la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">108  </FONT>  </FONT><FONT COLOR="#000080"><B>protected</B></FONT><FONT COLOR="#000000"> JCheckBox m_UseConfidenceLevelsCB = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JCheckBox(</FONT><FONT COLOR="#008000"><B>"Use confidence levels"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">109  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">110  </FONT>  </FONT><FONT COLOR="#808080"><I>//Hacer transiciones suaves de color (gradiente) entre los cuadros de la rejilla</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">111  </FONT>  </FONT><FONT COLOR="#808080"><I>//(puede desvirtuar la fidelidad de la imagen)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">112  </FONT>  </FONT><FONT COLOR="#808080"><I>//TODO private JCheckBox m_UseGradientColors = new JCheckBox();</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">113  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">114  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Controlar el tamaño de los puntos que representan a las instancias */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">115  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\LabeledSlider.java.html">LabeledSlider</A> m_PointSize = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\LabeledSlider.java.html">LabeledSlider</A>(</FONT><FONT COLOR="#008000"><B>"Point size: "</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">116  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">117  </FONT>  </FONT><FONT COLOR="#808080"><I>/** El panel que controla el aspecto de la rejilla */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">118  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\gui\GridDimensionOptionsPanel.java.html">GridDimensionOptionsPanel</A> m_Gdop = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\gui\GridDimensionOptionsPanel.java.html">GridDimensionOptionsPanel</A>(); 
<FONT COLOR=0 STYLE="font-style:normal">119  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">120  </FONT>  </FONT><FONT COLOR="#808080"><I>//Botones de repintado y creación de la imagen de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">121  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Botón de repintado del panel de dibujado */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">122  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JButton m_RepaintButton = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JButton(</FONT><FONT COLOR="#008000"><B>"Repaint"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">123  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">124  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Botón de creación de la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">125  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JButton m_RefreshButton = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JButton(</FONT><FONT COLOR="#008000"><B>"Refresh"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">126  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Botón de cancelación de la creación de la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">127  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JButton m_CancelRefreshButton = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JButton(</FONT><FONT COLOR="#008000"><B>"Cancel"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">128  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">129  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Selección de un clasificador base de un booster */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">130  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JComboBox m_BaseClassifierSelector = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JComboBox(); 
<FONT COLOR=0 STYLE="font-style:normal">131  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Creación de la imagen de hipótesis de un clasificador base de un booster */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">132  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JButton m_RefreshWithBaseClassifierButton = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JButton(</FONT><FONT COLOR="#008000"><B>"View BC Hypothesis"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">133  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">134  </FONT>  </FONT><FONT COLOR="#808080"><I>//Used to construct the hypothesis image</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">135  </FONT>  </FONT><FONT COLOR="#808080"><I>//We need to store them because we allow m_Points to change between classifier constructions</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">136  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Los colores que representa cada clase del esquema de instancias que usa el clasificador actual */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">137  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> Color[] m_ColorsUsedByCurrentClassifier = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">138  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">139  </FONT>   *  El esquema de las instancias que utiliza el clasificador actual, necesario para el proceso de construcción 
<FONT COLOR=0 STYLE="font-style:normal">140  </FONT>   *  de la imagen de hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">141  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">142  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> Instances m_InstancesSchemeUsedByCurrentClassifier = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">143  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">144  </FONT>  </FONT><FONT COLOR="#808080"><I>/** En el thread de despacho de eventos hacemos el trabajo de construcción de la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">145  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\javaTutorial\SwingWorker.java.html">SwingWorker</A> m_RefreshWorker = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">146  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">147  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Barra que muestra el estado del proceso de construcción de la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">148  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> JProgressBar m_ProgressBar = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JProgressBar(); 
<FONT COLOR=0 STYLE="font-style:normal">149  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">150  </FONT>  </FONT><FONT COLOR="#808080"><I>//////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">151  </FONT>  </FONT><FONT COLOR="#808080"><I>//Acciones accesibles desde el exterior</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">152  </FONT>  </FONT><FONT COLOR="#808080"><I>//////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">153  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">154  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Repintar el panel de dibujado */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">155  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_RepaintAction; 
<FONT COLOR=0 STYLE="font-style:normal">156  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">157  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Crear la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">158  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_RefreshAction; 
<FONT COLOR=0 STYLE="font-style:normal">159  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">160  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Crear la imagen de hipótesis de un clasificador base (si el clasificador principal es un booster) */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">161  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_RefreshBCAction; 
<FONT COLOR=0 STYLE="font-style:normal">162  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">163  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Cancelar la creación de la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">164  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_CancelRefreshAction; 
<FONT COLOR=0 STYLE="font-style:normal">165  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">166  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Mostrar o no la rejilla */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">167  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_ShowGridAction; 
<FONT COLOR=0 STYLE="font-style:normal">168  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">169  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Mostrar o no las instancias de entrenamiento */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">170  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_ShowTrainAction; 
<FONT COLOR=0 STYLE="font-style:normal">171  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">172  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Mostrar o no las instancias de test */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">173  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_ShowTestAction; 
<FONT COLOR=0 STYLE="font-style:normal">174  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">175  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Mostrar o no la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">176  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_ShowHypothesisAction; 
<FONT COLOR=0 STYLE="font-style:normal">177  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">178  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Utilizar o no grados de confianza ( si el clasificador lo permite) en la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">179  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> m_UseConfidenceLevelsAction; 
<FONT COLOR=0 STYLE="font-style:normal">180  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">181  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">182  </FONT>   * Constructor 
<FONT COLOR=0 STYLE="font-style:normal">183  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">184  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> drawingPanel El {</I></FONT><FONT COLOR="#808080"><B>@link</B></FONT><FONT COLOR="#808080"><I> <A href="..\..\oaidtb\gui\DrawingPanel.java.html">DrawingPanel</A>} sobre el que se basará este panel de opciones 
<FONT COLOR=0 STYLE="font-style:normal">185  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">186  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> VisualOptionsPanel(<A href="..\..\oaidtb\gui\DrawingPanel.java.html">DrawingPanel</A> drawingPanel){ 
<FONT COLOR=0 STYLE="font-style:normal">187  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">188  </FONT>    m_DrawingPanel = drawingPanel; 
<FONT COLOR=0 STYLE="font-style:normal">189  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">190  </FONT>    </FONT><FONT COLOR="#808080"><I>//Configuración de máximos de la rejilla</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">191  </FONT>    m_Gdop.setOriginalXDimensionSize(m_DrawingPanel.getWidth()); 
<FONT COLOR=0 STYLE="font-style:normal">192  </FONT>    m_Gdop.setOriginalYDimensionSize(m_DrawingPanel.getHeight()); 
<FONT COLOR=0 STYLE="font-style:normal">193  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">194  </FONT>    </FONT><FONT COLOR="#808080"><I>//Hacer concordar las CheckBoxes con el estado del panel de dibujo</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">195  </FONT>    m_ShowGridCB.setSelected(m_DrawingPanel.getShowGrid()); 
<FONT COLOR=0 STYLE="font-style:normal">196  </FONT>    m_ShowHypImageCB.setSelected(m_DrawingPanel.getShowHypothesisImage()); 
<FONT COLOR=0 STYLE="font-style:normal">197  </FONT>    m_ShowTrainInstancesCB.setSelected(m_DrawingPanel.getShowTrainInstances()); 
<FONT COLOR=0 STYLE="font-style:normal">198  </FONT>    m_ShowTestInstancesCB.setSelected(m_DrawingPanel.getShowTestInstances()); 
<FONT COLOR=0 STYLE="font-style:normal">199  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">200  </FONT>    </FONT><FONT COLOR="#808080"><I>//Color inicial de la etiqueta que muestra el clasificador utilizado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">201  </FONT>    m_ClassifierLabel.setForeground(Color.red); 
<FONT COLOR=0 STYLE="font-style:normal">202  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">203  </FONT>    </FONT><FONT COLOR="#808080"><I>//Crear las acciones</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">204  </FONT>    setUpActions(getInputMap(WHEN_IN_FOCUSED_WINDOW), getActionMap()); 
<FONT COLOR=0 STYLE="font-style:normal">205  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">206  </FONT>    </FONT><FONT COLOR="#808080"><I>//Inicializar el comportamiento y el aspecto del panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">207  </FONT>    initGUI(); 
<FONT COLOR=0 STYLE="font-style:normal">208  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">209  </FONT>    </FONT><FONT COLOR="#808080"><I>//Posicionar los componentes sobre el panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">210  </FONT>    layoutComponents(); 
<FONT COLOR=0 STYLE="font-style:normal">211  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">212  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">213  </FONT>  </FONT><FONT COLOR="#808080"><I>///////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">214  </FONT>  </FONT><FONT COLOR="#808080"><I>// Métodos de acceso a las acciones</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">215  </FONT>  </FONT><FONT COLOR="#808080"><I>///////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">216  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">217  </FONT>   * La acción de repintado actualiza la información del panel de dibujado con 
<FONT COLOR=0 STYLE="font-style:normal">218  </FONT>   * la configuración actual del panel de opciones visuales y lo "repinta" 
<FONT COLOR=0 STYLE="font-style:normal">219  </FONT>   * (actualiza la imagen de instancias y la de hipótesis, pero no la de 
<FONT COLOR=0 STYLE="font-style:normal">220  </FONT>   * la rejilla). 
<FONT COLOR=0 STYLE="font-style:normal">221  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">222  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> la acción de repintado 
<FONT COLOR=0 STYLE="font-style:normal">223  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">224  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getRepaintAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">225  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_RepaintAction; 
<FONT COLOR=0 STYLE="font-style:normal">226  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">227  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">228  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción de crear la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">229  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getRefreshAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">230  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_RefreshAction; 
<FONT COLOR=0 STYLE="font-style:normal">231  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">232  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">233  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción de cancelar la creación de la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">234  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getCancelRefreshAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">235  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_CancelRefreshAction; 
<FONT COLOR=0 STYLE="font-style:normal">236  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">237  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">238  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción para mostrar o no la rejilla */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">239  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getShowGridAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">240  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_ShowGridAction; 
<FONT COLOR=0 STYLE="font-style:normal">241  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">242  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">243  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción para mostrar o no la imagen de hipótesis */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">244  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getShowHypothesisAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">245  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_ShowHypothesisAction; 
<FONT COLOR=0 STYLE="font-style:normal">246  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">247  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">248  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción para mostrar o no las instancias de prueba */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">249  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getShowTestAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">250  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_ShowTestAction; 
<FONT COLOR=0 STYLE="font-style:normal">251  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">252  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">253  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción para mostrar o no las instancias de entrenamiento */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">254  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getShowTrainAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">255  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_ShowTrainAction; 
<FONT COLOR=0 STYLE="font-style:normal">256  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">257  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">258  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La acción para usar o no los grados de confianza del clasificador */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">259  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A> getUseConfidenceLevelsAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">260  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_UseConfidenceLevelsAction; 
<FONT COLOR=0 STYLE="font-style:normal">261  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">262  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">263  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> El clasificador sobre el que se está trabajando actualmente */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">264  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> Classifier getClassifier(){ 
<FONT COLOR=0 STYLE="font-style:normal">265  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_Classifier; 
<FONT COLOR=0 STYLE="font-style:normal">266  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">267  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">268  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">269  </FONT>   * Configura el panel para trabajar con un nuevo clasificador (habilitar /deshabilitar 
<FONT COLOR=0 STYLE="font-style:normal">270  </FONT>   * botones etc.) y restaura el panel de dibujado. 
<FONT COLOR=0 STYLE="font-style:normal">271  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">272  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> classifier El nuevo clasificador 
<FONT COLOR=0 STYLE="font-style:normal">273  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> isRebuilt true si el clasificador es el mismo que ya estaba configurado, pero ha sido reconstruido 
<FONT COLOR=0 STYLE="font-style:normal">274  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">275  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> setClassifier(Classifier classifier, 
<FONT COLOR=0 STYLE="font-style:normal">276  </FONT>                            Instances instancesScheme, 
<FONT COLOR=0 STYLE="font-style:normal">277  </FONT>                            Color[] colors, 
<FONT COLOR=0 STYLE="font-style:normal">278  </FONT>                            </FONT><FONT COLOR="#000080"><B>boolean</B></FONT><FONT COLOR="#000000"> isRebuilt){ 
<FONT COLOR=0 STYLE="font-style:normal">279  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">280  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (classifier == </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">) 
<FONT COLOR=0 STYLE="font-style:normal">281  </FONT>      </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000">; </FONT><FONT COLOR="#808080"><I>//lanzar una excepción</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">282  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">283  </FONT>    </FONT><FONT COLOR="#808080"><I>//Borramos el dibujo de la hipótesis (si existiera) e informamos de que el clasificador es nuevo</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">284  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (!classifier.equals(m_Classifier) || isRebuilt) 
<FONT COLOR=0 STYLE="font-style:normal">285  </FONT>      reset(); 
<FONT COLOR=0 STYLE="font-style:normal">286  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">287  </FONT>    </FONT><FONT COLOR="#808080"><I>//Actualizamos el clasificador</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">288  </FONT>    m_Classifier = classifier; 
<FONT COLOR=0 STYLE="font-style:normal">289  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">290  </FONT>    </FONT><FONT COLOR="#808080"><I>//Preparamos la construcción de la imagen de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">291  </FONT>    m_InstancesSchemeUsedByCurrentClassifier = instancesScheme; 
<FONT COLOR=0 STYLE="font-style:normal">292  </FONT>    m_ColorsUsedByCurrentClassifier = colors; 
<FONT COLOR=0 STYLE="font-style:normal">293  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">294  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_InstancesSchemeUsedByCurrentClassifier == </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000"> || 
<FONT COLOR=0 STYLE="font-style:normal">295  </FONT>      m_ColorsUsedByCurrentClassifier == </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000"> || 
<FONT COLOR=0 STYLE="font-style:normal">296  </FONT>      m_ColorsUsedByCurrentClassifier.length != m_InstancesSchemeUsedByCurrentClassifier.numClasses()) 
<FONT COLOR=0 STYLE="font-style:normal">297  </FONT>      </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000">;  </FONT><FONT COLOR="#808080"><I>//lanzar una excepción</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">298  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">299  </FONT>    </FONT><FONT COLOR="#808080"><I>//Configuramos la (des)habilitación de acciones</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">300  </FONT>    enableRefreshAction(); 
<FONT COLOR=0 STYLE="font-style:normal">301  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">302  </FONT>    </FONT><FONT COLOR="#808080"><I>//Colocamos el texto de la etiqueta del clasificador</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">303  </FONT>    m_ClassifierLabel.setText(</FONT><FONT COLOR="#008000"><B>"Classifier: "</B></FONT><FONT COLOR="#000000"> + m_Classifier.getClass().getName()); 
<FONT COLOR=0 STYLE="font-style:normal">304  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">305  </FONT>    </FONT><FONT COLOR="#808080"><I>//Comprobar si el clasificador puede o no clasificar el formato de instancias necesario</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">306  </FONT>    Instance instance = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Instance(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[]{</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">}); 
<FONT COLOR=0 STYLE="font-style:normal">307  </FONT>    instance.setDataset(m_InstancesSchemeUsedByCurrentClassifier); 
<FONT COLOR=0 STYLE="font-style:normal">308  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (<A href="..\..\oaidtb\misc\Utils.java.html">Utils</A>.classifierCanClassify(m_Classifier, instance)) 
<FONT COLOR=0 STYLE="font-style:normal">309  </FONT>      m_ClassifierLabel.setForeground(Color.green); 
<FONT COLOR=0 STYLE="font-style:normal">310  </FONT>    </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">311  </FONT>      m_ClassifierLabel.setForeground(Color.red); 
<FONT COLOR=0 STYLE="font-style:normal">312  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">313  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">314  </FONT>  </FONT><FONT COLOR="#808080"><I>/** Método que "resetea" el aspecto del panel de dibujado */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">315  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> reset(){ 
<FONT COLOR=0 STYLE="font-style:normal">316  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">317  </FONT>    </FONT><FONT COLOR="#808080"><I>//Las iteraciones guardadas no nos sirven</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">318  </FONT>    m_NewIterativeUpdatableClassifier = </FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">319  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">320  </FONT>    </FONT><FONT COLOR="#808080"><I>//Reseteamos el aspecto del panel de dibujado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">321  </FONT>    m_HypothesisImage = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">322  </FONT>    m_HypothesisSumImage = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">323  </FONT>    m_DrawingPanel.setGridColumnWidth(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">324  </FONT>    m_DrawingPanel.setHypothesisImage(</FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">325  </FONT>    m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">326  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">327  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">328  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> The current hypothesis image  */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">329  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> BufferedImage getHypothesisImage(){ 
<FONT COLOR=0 STYLE="font-style:normal">330  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_HypothesisImage; 
<FONT COLOR=0 STYLE="font-style:normal">331  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">332  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">333  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> hypothesisImage The image to be used as the hypothesis image */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">334  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> setHypothesisImage(BufferedImage hypothesisImage){ 
<FONT COLOR=0 STYLE="font-style:normal">335  </FONT>    m_HypothesisImage = hypothesisImage; 
<FONT COLOR=0 STYLE="font-style:normal">336  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">337  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">338  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> The current hypothesis (using confidence levels) image  */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">339  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> BufferedImage getHypothesisSumImage(){ 
<FONT COLOR=0 STYLE="font-style:normal">340  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_HypothesisSumImage; 
<FONT COLOR=0 STYLE="font-style:normal">341  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">342  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">343  </FONT>  </FONT><FONT COLOR="#808080"><I>/** </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> hypothesisSumImage The image to be used as the hypothesis (using confidence levels) image */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">344  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> setHypothesisSumImage(BufferedImage hypothesisSumImage){ 
<FONT COLOR=0 STYLE="font-style:normal">345  </FONT>    m_HypothesisSumImage = hypothesisSumImage; 
<FONT COLOR=0 STYLE="font-style:normal">346  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">347  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">348  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">349  </FONT>   * Informar de que el {</I></FONT><FONT COLOR="#808080"><B>@link</B></FONT><FONT COLOR="#808080"><I> <A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A>} actual ha realizado nuevas 
<FONT COLOR=0 STYLE="font-style:normal">350  </FONT>   * iteraciones 
<FONT COLOR=0 STYLE="font-style:normal">351  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">352  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> newIterationsMade(){ 
<FONT COLOR=0 STYLE="font-style:normal">353  </FONT>    <A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A> c = (<A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A>) m_Classifier; 
<FONT COLOR=0 STYLE="font-style:normal">354  </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> currentItemIndex = m_BaseClassifierSelector.getSelectedIndex(); 
<FONT COLOR=0 STYLE="font-style:normal">355  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">356  </FONT>    </FONT><FONT COLOR="#808080"><I>//Más lento, pero seguro ante cambios como por ejemplo que se cargue un</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">357  </FONT>    </FONT><FONT COLOR="#808080"><I>//booster dede un archivo con iteraciones ya realizadas</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">358  </FONT>    m_BaseClassifierSelector.removeAllItems(); 
<FONT COLOR=0 STYLE="font-style:normal">359  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">360  </FONT>    </FONT><FONT COLOR="#808080"><I>//Las añadimos a la lista de iteraciones</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">361  </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = m_BaseClassifierSelector.getItemCount(); i &LT; c.getNumIterationsPerformed(); i++) 
<FONT COLOR=0 STYLE="font-style:normal">362  </FONT>      m_BaseClassifierSelector.addItem(</FONT><FONT COLOR="#008000"><B>"Iteration "</B></FONT><FONT COLOR="#000000"> + String.valueOf(i)); 
<FONT COLOR=0 STYLE="font-style:normal">363  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">364  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (currentItemIndex != -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">) 
<FONT COLOR=0 STYLE="font-style:normal">365  </FONT>      m_BaseClassifierSelector.setSelectedIndex(currentItemIndex); 
<FONT COLOR=0 STYLE="font-style:normal">366  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">367  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">368  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">369  </FONT>   * Método que centraliza la (des)habilitación de las acciones de creación 
<FONT COLOR=0 STYLE="font-style:normal">370  </FONT>   * de las imágenes de hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">371  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">372  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> enableRefreshAction(){ 
<FONT COLOR=0 STYLE="font-style:normal">373  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_RefreshWorker == </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">){  </FONT><FONT COLOR="#808080"><I>//Si ya se está creando, no hacer nada</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">374  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">375  </FONT>      </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_Classifier == </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">376  </FONT>        m_RefreshAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">377  </FONT>        m_RefreshBCAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">378  </FONT>        m_CancelRefreshAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">379  </FONT>        </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">380  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">381  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">382  </FONT>      </FONT><FONT COLOR="#808080"><I>//Comprobar si el clasificador puede o no clasificar el formato de instancias necesario</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">383  </FONT>      Instance instance = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Instance(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[]{</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">}); 
<FONT COLOR=0 STYLE="font-style:normal">384  </FONT>      instance.setDataset(m_InstancesSchemeUsedByCurrentClassifier); 
<FONT COLOR=0 STYLE="font-style:normal">385  </FONT>      m_RefreshAction.setEnabled(<A href="..\..\oaidtb\misc\Utils.java.html">Utils</A>.classifierCanClassify(m_Classifier, instance)); 
<FONT COLOR=0 STYLE="font-style:normal">386  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">387  </FONT>      </FONT><FONT COLOR="#808080"><I>//Pase lo que pase, si no estamos haciendo algo no podemos parar de hacerlo...</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">388  </FONT>      m_CancelRefreshAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">389  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">390  </FONT>      </FONT><FONT COLOR="#808080"><I>//Comprobar si es un booster</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">391  </FONT>      </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_Classifier </FONT><FONT COLOR="#000080"><B>instanceof</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A>){ 
<FONT COLOR=0 STYLE="font-style:normal">392  </FONT>        </FONT><FONT COLOR="#808080"><I>//Comprobar si ya ha realizado alguna iteración</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">393  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (((<A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A>) m_Classifier).getNumIterationsPerformed() != </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">394  </FONT></FONT><FONT COLOR="#808080"><I>//          m_BaseClassifierSelector.removeAllItems();</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">395  </FONT>          newIterationsMade(); 
<FONT COLOR=0 STYLE="font-style:normal">396  </FONT>          m_RefreshBCAction.setEnabled(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">397  </FONT>          m_BaseClassifierSelector.setEnabled(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">398  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">399  </FONT>        </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">400  </FONT>          m_BaseClassifierSelector.removeAllItems(); 
<FONT COLOR=0 STYLE="font-style:normal">401  </FONT>          m_RefreshBCAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">402  </FONT>          m_BaseClassifierSelector.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">403  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">404  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">405  </FONT>      </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">406  </FONT>        m_BaseClassifierSelector.removeAllItems(); 
<FONT COLOR=0 STYLE="font-style:normal">407  </FONT>        m_RefreshBCAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">408  </FONT>        m_BaseClassifierSelector.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">409  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">410  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">411  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">412  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">413  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">414  </FONT>   * Configurar las acciones definidas; por defecto, las metemos en el InputMap 
<FONT COLOR=0 STYLE="font-style:normal">415  </FONT>   * de WHEN_IN_FOCUSED_WINDOW 
<FONT COLOR=0 STYLE="font-style:normal">416  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">417  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> im Un InputMap donde las teclas serán mapeadas a los nombres de las acciones 
<FONT COLOR=0 STYLE="font-style:normal">418  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> am Un ActionMap donde los nombres de las acciones serán mapeados a las acciones 
<FONT COLOR=0 STYLE="font-style:normal">419  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">420  </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> setUpActions(</FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> InputMap im, </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> ActionMap am){ 
<FONT COLOR=0 STYLE="font-style:normal">421  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">422  </FONT>    </FONT><FONT COLOR="#808080"><I>////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">423  </FONT>    </FONT><FONT COLOR="#808080"><I>//Utilizar o no grados de confianza  (Alt-L)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">424  </FONT>    </FONT><FONT COLOR="#808080"><I>////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">425  </FONT>    m_UseConfidenceLevelsAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Use_Confidence_Levels"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">426  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">427  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (e.getSource() != m_UseConfidenceLevelsCB) 
<FONT COLOR=0 STYLE="font-style:normal">428  </FONT>          m_UseConfidenceLevelsCB.setSelected(!m_UseConfidenceLevelsCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">429  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">430  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_HypothesisSumImage != </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">431  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">432  </FONT>          </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_UseConfidenceLevelsCB.isSelected()) 
<FONT COLOR=0 STYLE="font-style:normal">433  </FONT>            m_DrawingPanel.setHypothesisImage(m_HypothesisSumImage); 
<FONT COLOR=0 STYLE="font-style:normal">434  </FONT>          </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">435  </FONT>            m_DrawingPanel.setHypothesisImage(m_HypothesisImage); 
<FONT COLOR=0 STYLE="font-style:normal">436  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">437  </FONT>          m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">438  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">439  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">440  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">441  </FONT>    m_UseConfidenceLevelsAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Utilizar grados de confianza"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Alt-L)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">442  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_L, Event.ALT_MASK), </FONT><FONT COLOR="#008000"><B>"Use_Confidence_Levels"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">443  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Use_Confidence_Levels"</B></FONT><FONT COLOR="#000000">, m_UseConfidenceLevelsAction); 
<FONT COLOR=0 STYLE="font-style:normal">444  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">445  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">446  </FONT>    </FONT><FONT COLOR="#808080"><I>//Reconstruir la imagen de hipótesis   (Alt-R)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">447  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">448  </FONT>    m_RefreshAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Refresh_Hypothesis_Image"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">449  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">450  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (!m_RefreshAction.isEnabled()) 
<FONT COLOR=0 STYLE="font-style:normal">451  </FONT>          </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">452  </FONT>        </FONT><FONT COLOR="#000080"><B>try</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">453  </FONT>          m_RefreshWorker = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> HypothesisImageConstructorWorker(m_Classifier); 
<FONT COLOR=0 STYLE="font-style:normal">454  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">455  </FONT>        </FONT><FONT COLOR="#000080"><B>catch</B></FONT><FONT COLOR="#000000"> (Exception ex){ 
<FONT COLOR=0 STYLE="font-style:normal">456  </FONT>          System.err.println(</FONT><FONT COLOR="#008000"><B>"Serialization error: "</B></FONT><FONT COLOR="#000000"> + e.toString()); 
<FONT COLOR=0 STYLE="font-style:normal">457  </FONT>          </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">458  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">459  </FONT>        m_RefreshAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">);     </FONT><FONT COLOR="#808080"><I>//Evitar estar creando concurrentemente más de una imagen</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">460  </FONT>        m_RefreshBCAction.setEnabled(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">461  </FONT>        m_CancelRefreshAction.setEnabled(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">462  </FONT>        m_RefreshWorker.start(); 
<FONT COLOR=0 STYLE="font-style:normal">463  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">464  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">465  </FONT>    m_RefreshAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Reconstruir la imagen de hipótesis"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Alt-R)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">466  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, Event.ALT_MASK), </FONT><FONT COLOR="#008000"><B>"Refresh_Hypothesis_Image"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">467  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Refresh_Hypothesis_Image"</B></FONT><FONT COLOR="#000000">, m_RefreshAction); 
<FONT COLOR=0 STYLE="font-style:normal">468  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">469  </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">470  </FONT>    </FONT><FONT COLOR="#808080"><I>//Cancelar la reconstrucción la imagen de hipótesis (Ctrl-R)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">471  </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">472  </FONT>    m_CancelRefreshAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Cancel_Hypothesis_Image_Refresh"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">473  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">474  </FONT>        m_RefreshWorker.interrupt(); 
<FONT COLOR=0 STYLE="font-style:normal">475  </FONT>        m_RefreshWorker = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">;       </FONT><FONT COLOR="#808080"><I>//Marcamos que ya no estamos creando una imagen de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">476  </FONT>        enableRefreshAction(); 
<FONT COLOR=0 STYLE="font-style:normal">477  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">478  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">479  </FONT>    m_CancelRefreshAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Cancelar la reconstrucción de la imagen de hipótesis"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Ctrl-R)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">480  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, Event.CTRL_MASK), </FONT><FONT COLOR="#008000"><B>"Cancel_Hypothesis_Image_Refresh"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">481  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Cancel_Hypothesis_Image_Refresh"</B></FONT><FONT COLOR="#000000">, m_CancelRefreshAction); 
<FONT COLOR=0 STYLE="font-style:normal">482  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">483  </FONT>    </FONT><FONT COLOR="#808080"><I>////////////////////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">484  </FONT>    </FONT><FONT COLOR="#808080"><I>//Reconstruir la imagen de hipótesis de un clasificador base   (Ctrl-B)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">485  </FONT>    </FONT><FONT COLOR="#808080"><I>///////////////////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">486  </FONT>    </FONT><FONT COLOR="#808080"><I>//TODO: Keep & use a backup of the combined hypothesis image if it exists</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">487  </FONT>    m_RefreshBCAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Refresh_BC_Hypothesis_Image"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">488  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">489  </FONT>        </FONT><FONT COLOR="#000080"><B>try</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">490  </FONT>          </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> classifierIndex = m_BaseClassifierSelector.getSelectedIndex(); 
<FONT COLOR=0 STYLE="font-style:normal">491  </FONT>          </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_Classifier </FONT><FONT COLOR="#000080"><B>instanceof</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\Booster.java.html">Booster</A>){ 
<FONT COLOR=0 STYLE="font-style:normal">492  </FONT>            </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> Classifier tmp = m_Classifier; 
<FONT COLOR=0 STYLE="font-style:normal">493  </FONT>            </FONT><FONT COLOR="#808080"><I>//Marcamos que el clasificador a utilizar será el clasificador base</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">494  </FONT>            m_Classifier = ((<A href="..\..\oaidtb\boosters\Booster.java.html">Booster</A>) m_Classifier).getClassifier(classifierIndex); 
<FONT COLOR=0 STYLE="font-style:normal">495  </FONT>            m_RefreshAction.actionPerformed(</FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">496  </FONT>            </FONT><FONT COLOR="#808080"><I>//Dejamos las cosas como estaban</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">497  </FONT>            m_Classifier = tmp; 
<FONT COLOR=0 STYLE="font-style:normal">498  </FONT>          } 
<FONT COLOR=0 STYLE="font-style:normal">499  </FONT>          </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_Classifier </FONT><FONT COLOR="#000080"><B>instanceof</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\AdaBoostMH.java.html">AdaBoostMH</A>){ 
<FONT COLOR=0 STYLE="font-style:normal">500  </FONT>            </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> Classifier tmp = m_Classifier; 
<FONT COLOR=0 STYLE="font-style:normal">501  </FONT>            </FONT><FONT COLOR="#808080"><I>//Marcamos que el clasificador a utilizar será el clasificador base</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">502  </FONT>            m_Classifier = ((<A href="..\..\oaidtb\boosters\AdaBoostMH.java.html">AdaBoostMH</A>) m_Classifier).getClassifier(classifierIndex); 
<FONT COLOR=0 STYLE="font-style:normal">503  </FONT>            m_RefreshAction.actionPerformed(</FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">504  </FONT>            </FONT><FONT COLOR="#808080"><I>//Dejamos las cosas como estaban</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">505  </FONT>            m_Classifier = tmp; 
<FONT COLOR=0 STYLE="font-style:normal">506  </FONT>          } 
<FONT COLOR=0 STYLE="font-style:normal">507  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">508  </FONT>        </FONT><FONT COLOR="#000080"><B>catch</B></FONT><FONT COLOR="#000000"> (Exception ex){ 
<FONT COLOR=0 STYLE="font-style:normal">509  </FONT>          System.err.println(ex.toString()); 
<FONT COLOR=0 STYLE="font-style:normal">510  </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">511  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">512  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">513  </FONT>    m_RefreshBCAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Reconstruir la imagen de hipótesis de un clasificador base"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Ctrl-B)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">514  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_B, Event.CTRL_MASK), </FONT><FONT COLOR="#008000"><B>"Refresh_BC_Hypothesis_Image"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">515  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Refresh_BC_Hypothesis_Image"</B></FONT><FONT COLOR="#000000">, m_RefreshBCAction); 
<FONT COLOR=0 STYLE="font-style:normal">516  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">517  </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">518  </FONT>    </FONT><FONT COLOR="#808080"><I>//Repintar el panel de dibujo (Ctrl-Alt-R)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">519  </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">520  </FONT>    m_RepaintAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Repaint_Drawing_Panel"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">521  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">522  </FONT>        m_DrawingPanel.setUpdateInstances(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">523  </FONT></FONT><FONT COLOR="#808080"><I>//        m_DrawingPanel.setUpdateGrid(true);</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">524  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_UseConfidenceLevelsCB.isSelected() && m_HypothesisSumImage != </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">) 
<FONT COLOR=0 STYLE="font-style:normal">525  </FONT>          m_DrawingPanel.setHypothesisImage(m_HypothesisSumImage); 
<FONT COLOR=0 STYLE="font-style:normal">526  </FONT>        </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">527  </FONT>          m_DrawingPanel.setHypothesisImage(m_HypothesisImage); 
<FONT COLOR=0 STYLE="font-style:normal">528  </FONT>        m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">529  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">530  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">531  </FONT>    m_RepaintAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Repintar el panel de dibujo"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Ctrl-Alt-R)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">532  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_R, Event.CTRL_MASK | KeyEvent.ALT_MASK), </FONT><FONT COLOR="#008000"><B>"Repaint_Drawing_Panel"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">533  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Repaint_Drawing_Panel"</B></FONT><FONT COLOR="#000000">, m_RepaintAction); 
<FONT COLOR=0 STYLE="font-style:normal">534  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">535  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">536  </FONT>    </FONT><FONT COLOR="#808080"><I>//Mostrar o no las instancias de entrenamiento (Alt-T)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">537  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">538  </FONT>    m_ShowTrainAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Show_Train_Instances"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">539  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">540  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (e.getSource() != m_ShowTrainInstancesCB) 
<FONT COLOR=0 STYLE="font-style:normal">541  </FONT>          m_ShowTrainInstancesCB.setSelected(!m_ShowTrainInstancesCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">542  </FONT>        m_DrawingPanel.setShowTrainInstances(m_ShowTrainInstancesCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">543  </FONT>        m_DrawingPanel.setUpdateInstances(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">544  </FONT>        m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">545  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">546  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">547  </FONT>    m_ShowTrainAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Mostrar las instancias de entrenamiento"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Alt-T)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">548  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_T, KeyEvent.ALT_MASK), </FONT><FONT COLOR="#008000"><B>"Show_Train_Instances"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">549  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Show_Train_Instances"</B></FONT><FONT COLOR="#000000">, m_ShowTrainAction); 
<FONT COLOR=0 STYLE="font-style:normal">550  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">551  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">552  </FONT>    </FONT><FONT COLOR="#808080"><I>//Mostrar o no las instancias de test (Ctrl-T)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">553  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">554  </FONT>    m_ShowTestAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Show_Test_Instances"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">555  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">556  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (e.getSource() != m_ShowTestInstancesCB) 
<FONT COLOR=0 STYLE="font-style:normal">557  </FONT>          m_ShowTestInstancesCB.setSelected(!m_ShowTestInstancesCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">558  </FONT>        m_DrawingPanel.setShowTestInstances(m_ShowTestInstancesCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">559  </FONT>        m_DrawingPanel.setUpdateInstances(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">560  </FONT>        m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">561  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">562  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">563  </FONT>    m_ShowTestAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Mostrar las instancias de test"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Ctrl-T)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">564  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_T, KeyEvent.CTRL_MASK), </FONT><FONT COLOR="#008000"><B>"Show_Test_Instances"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">565  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Show_Test_Instances"</B></FONT><FONT COLOR="#000000">, m_ShowTestAction); 
<FONT COLOR=0 STYLE="font-style:normal">566  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">567  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">568  </FONT>    </FONT><FONT COLOR="#808080"><I>//Mostrar o no la rejilla (Alt-G)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">569  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">570  </FONT>    m_ShowGridAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Show_Grid"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">571  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">572  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (e.getSource() != m_ShowGridCB) 
<FONT COLOR=0 STYLE="font-style:normal">573  </FONT>          m_ShowGridCB.setSelected(!m_ShowGridCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">574  </FONT>        m_DrawingPanel.setShowGrid(m_ShowGridCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">575  </FONT>        m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">576  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">577  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">578  </FONT>    m_ShowGridAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Mostrar la rejilla"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Alt-G)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">579  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_G, KeyEvent.ALT_MASK), </FONT><FONT COLOR="#008000"><B>"Show_Grid"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">580  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Show_Grid"</B></FONT><FONT COLOR="#000000">, m_ShowGridAction); 
<FONT COLOR=0 STYLE="font-style:normal">581  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">582  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">583  </FONT>    </FONT><FONT COLOR="#808080"><I>//Mostrar o no la imagen de hipótesis (Alt-H)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">584  </FONT>    </FONT><FONT COLOR="#808080"><I>//////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">585  </FONT>    m_ShowHypothesisAction = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\guiUtils\MyAbstractAction.java.html">MyAbstractAction</A>(</FONT><FONT COLOR="#008000"><B>"Show_Hipothesis"</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">586  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> actionPerformed(ActionEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">587  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (e.getSource() != m_ShowHypImageCB) 
<FONT COLOR=0 STYLE="font-style:normal">588  </FONT>          m_ShowHypImageCB.setSelected(!m_ShowHypImageCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">589  </FONT>        m_DrawingPanel.setShowHypothesisImage(m_ShowHypImageCB.isSelected()); 
<FONT COLOR=0 STYLE="font-style:normal">590  </FONT>        m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">591  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">592  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">593  </FONT>    im.put(KeyStroke.getKeyStroke(KeyEvent.VK_H, KeyEvent.ALT_MASK), </FONT><FONT COLOR="#008000"><B>"Show_Hipothesis"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">594  </FONT>    m_ShowHypothesisAction.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Mostrar la imagen de hipótesis"</B></FONT><FONT COLOR="#000000"> + </FONT><FONT COLOR="#008000"><B>" (Alt-H)"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">595  </FONT>    am.put(</FONT><FONT COLOR="#008000"><B>"Show_Hipothesis"</B></FONT><FONT COLOR="#000000">, m_ShowHypothesisAction); 
<FONT COLOR=0 STYLE="font-style:normal">596  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">597  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">598  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">599  </FONT>   * Configuración del panel (asociación de acciones con botones, creación de marcos, 
<FONT COLOR=0 STYLE="font-style:normal">600  </FONT>   * creación de listeners para las acciones no definidas como {</I></FONT><FONT COLOR="#808080"><B>@link</B></FONT><FONT COLOR="#808080"><I> Action} etc.) 
<FONT COLOR=0 STYLE="font-style:normal">601  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">602  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> initGUI(){ 
<FONT COLOR=0 STYLE="font-style:normal">603  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">604  </FONT>    </FONT><FONT COLOR="#808080"><I>//Botón de repintado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">605  </FONT>    m_RepaintButton.addActionListener(m_RepaintAction); 
<FONT COLOR=0 STYLE="font-style:normal">606  </FONT>    m_RepaintButton.setToolTipText(m_RepaintAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">607  </FONT>    m_RepaintAction.addStateDependantComponent(m_RepaintButton); 
<FONT COLOR=0 STYLE="font-style:normal">608  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">609  </FONT>    </FONT><FONT COLOR="#808080"><I>//Botones de reconstrucción (y cancelación) de la imagen de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">610  </FONT>    m_RefreshButton.addActionListener(m_RefreshAction); 
<FONT COLOR=0 STYLE="font-style:normal">611  </FONT>    m_RefreshButton.setToolTipText(m_RefreshAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">612  </FONT>    m_RefreshAction.addStateDependantComponent(m_RefreshButton); 
<FONT COLOR=0 STYLE="font-style:normal">613  </FONT>    m_CancelRefreshButton.addActionListener(m_CancelRefreshAction); 
<FONT COLOR=0 STYLE="font-style:normal">614  </FONT>    m_CancelRefreshButton.setToolTipText(m_CancelRefreshAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">615  </FONT>    m_CancelRefreshAction.addStateDependantComponent(m_CancelRefreshButton); 
<FONT COLOR=0 STYLE="font-style:normal">616  </FONT>    </FONT><FONT COLOR="#808080"><I>//Selección de un clasificador base</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">617  </FONT>    m_RefreshWithBaseClassifierButton.addActionListener(m_RefreshBCAction); 
<FONT COLOR=0 STYLE="font-style:normal">618  </FONT>    m_RefreshWithBaseClassifierButton.setToolTipText(m_RefreshBCAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">619  </FONT>    m_RefreshBCAction.addStateDependantComponent(m_RefreshWithBaseClassifierButton); 
<FONT COLOR=0 STYLE="font-style:normal">620  </FONT>    m_BaseClassifierSelector.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Seleccionar el índice del clasificador base"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">621  </FONT>    enableRefreshAction(); 
<FONT COLOR=0 STYLE="font-style:normal">622  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">623  </FONT>    </FONT><FONT COLOR="#808080"><I>//CheckBox de utilización de grados de confianza</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">624  </FONT>    m_UseConfidenceLevelsCB.addActionListener(m_UseConfidenceLevelsAction); 
<FONT COLOR=0 STYLE="font-style:normal">625  </FONT>    m_UseConfidenceLevelsCB.setToolTipText(m_UseConfidenceLevelsAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">626  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">627  </FONT>    </FONT><FONT COLOR="#808080"><I>//CheckBox para elegir entre mostrar o no los diversos elementos en el panel de dibujo</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">628  </FONT>    m_ShowTrainInstancesCB.addActionListener(m_ShowTrainAction); 
<FONT COLOR=0 STYLE="font-style:normal">629  </FONT>    m_ShowTrainInstancesCB.setToolTipText(m_ShowTrainAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">630  </FONT>    m_ShowTestInstancesCB.addActionListener(m_ShowTestAction); 
<FONT COLOR=0 STYLE="font-style:normal">631  </FONT>    m_ShowTestInstancesCB.setToolTipText(m_ShowTestAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">632  </FONT>    m_ShowGridCB.addActionListener(m_ShowGridAction); 
<FONT COLOR=0 STYLE="font-style:normal">633  </FONT>    m_ShowGridCB.setToolTipText(m_ShowGridAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">634  </FONT>    m_ShowHypImageCB.addActionListener(m_ShowHypothesisAction); 
<FONT COLOR=0 STYLE="font-style:normal">635  </FONT>    m_ShowHypImageCB.setToolTipText(m_ShowHypothesisAction.getTip()); 
<FONT COLOR=0 STYLE="font-style:normal">636  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">637  </FONT>    </FONT><FONT COLOR="#808080"><I>//JSlider de configuración del tamaño de los puntos</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">638  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> JSlider slider = m_PointSize.getSlider(); 
<FONT COLOR=0 STYLE="font-style:normal">639  </FONT>    slider.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Tamaño de los puntos"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">640  </FONT>    slider.setMinimum(</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">641  </FONT>    slider.setMaximum(</FONT><FONT COLOR="#0000ff">12</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">642  </FONT>    slider.setValue(</FONT><FONT COLOR="#0000ff">8</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">643  </FONT>    m_DrawingPanel.setPointSize(slider.getValue()); 
<FONT COLOR=0 STYLE="font-style:normal">644  </FONT>    slider.addChangeListener(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> ChangeListener(){ 
<FONT COLOR=0 STYLE="font-style:normal">645  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> stateChanged(ChangeEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">646  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (slider.getValue() != m_DrawingPanel.getPointSize()) 
<FONT COLOR=0 STYLE="font-style:normal">647  </FONT>          m_DrawingPanel.setPointSize(slider.getValue()); 
<FONT COLOR=0 STYLE="font-style:normal">648  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (!slider.getValueIsAdjusting()) 
<FONT COLOR=0 STYLE="font-style:normal">649  </FONT>          m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">650  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">651  </FONT>    }); 
<FONT COLOR=0 STYLE="font-style:normal">652  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">653  </FONT>    </FONT><FONT COLOR="#808080"><I>//Selección del porcentaje del color original a utilizar cuando se construya la imagen de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">654  </FONT>    </FONT><FONT COLOR="#808080"><I>//TODO: Rápido cambio (basado en la imagen actual, sin volver a clasificar; ImageTransform...</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">655  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> JSlider ctSlider = m_ColorTransformSlider.getSlider(); 
<FONT COLOR=0 STYLE="font-style:normal">656  </FONT>    ctSlider.setMaximum(</FONT><FONT COLOR="#0000ff">100</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">657  </FONT>    ctSlider.setMinimum(</FONT><FONT COLOR="#0000ff">35</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">658  </FONT>    ctSlider.setValue((</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (m_ColorTransform * </FONT><FONT COLOR="#0000ff">100</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">659  </FONT>    ctSlider.addChangeListener(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> ChangeListener(){ 
<FONT COLOR=0 STYLE="font-style:normal">660  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> stateChanged(ChangeEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">661  </FONT>        m_ColorTransform = ((</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) ctSlider.getValue()) / </FONT><FONT COLOR="#0000ff">100</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">662  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">663  </FONT>    }); 
<FONT COLOR=0 STYLE="font-style:normal">664  </FONT>    ctSlider.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Porcentaje del color original en la imagen de hipótesis"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">665  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">666  </FONT>    </FONT><FONT COLOR="#808080"><I>//Cada vez que cambiamos el tamaño del panel de dibujado debemos informar al panel de configuración de la rejilla</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">667  </FONT>    m_DrawingPanel.addComponentListener(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> ComponentAdapter(){ 
<FONT COLOR=0 STYLE="font-style:normal">668  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> componentResized(ComponentEvent e){ 
<FONT COLOR=0 STYLE="font-style:normal">669  </FONT>        m_Gdop.setOriginalXDimensionSize(m_DrawingPanel.getWidth()); 
<FONT COLOR=0 STYLE="font-style:normal">670  </FONT>        m_Gdop.setOriginalYDimensionSize(m_DrawingPanel.getHeight()); 
<FONT COLOR=0 STYLE="font-style:normal">671  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">672  </FONT>    }); 
<FONT COLOR=0 STYLE="font-style:normal">673  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">674  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">675  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">676  </FONT>   * Distribución de los componentes en el contenedor 
<FONT COLOR=0 STYLE="font-style:normal">677  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">678  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> layoutComponents(){ 
<FONT COLOR=0 STYLE="font-style:normal">679  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">680  </FONT>    setLayout(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridBagLayout()); 
<FONT COLOR=0 STYLE="font-style:normal">681  </FONT>    GridBagConstraints gbc = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridBagConstraints(); 
<FONT COLOR=0 STYLE="font-style:normal">682  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">683  </FONT>    </FONT><FONT COLOR="#808080"><I>//Configuración de dibujado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">684  </FONT>    JPanel showCfgPanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridLayout(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">685  </FONT>    showCfgPanel.add(m_UseConfidenceLevelsCB); 
<FONT COLOR=0 STYLE="font-style:normal">686  </FONT>    showCfgPanel.add(m_ShowTrainInstancesCB); 
<FONT COLOR=0 STYLE="font-style:normal">687  </FONT>    showCfgPanel.add(m_ShowTestInstancesCB); 
<FONT COLOR=0 STYLE="font-style:normal">688  </FONT>    showCfgPanel.add(m_ShowHypImageCB); 
<FONT COLOR=0 STYLE="font-style:normal">689  </FONT>    showCfgPanel.add(m_ShowGridCB); 
<FONT COLOR=0 STYLE="font-style:normal">690  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">691  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">692  </FONT>    add(showCfgPanel, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">693  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">694  </FONT>    </FONT><FONT COLOR="#808080"><I>//Configuración de la rejilla</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">695  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">696  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">697  </FONT>    add(m_Gdop, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">698  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">699  </FONT>    </FONT><FONT COLOR="#808080"><I>//Botón de repintado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">700  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">701  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">702  </FONT>    gbc.fill = GridBagConstraints.HORIZONTAL; 
<FONT COLOR=0 STYLE="font-style:normal">703  </FONT>    add(m_RepaintButton, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">704  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">705  </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño de los puntos</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">706  </FONT>    JPanel psPanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridLayout(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">707  </FONT>    psPanel.add(m_PointSize.getLabel()); 
<FONT COLOR=0 STYLE="font-style:normal">708  </FONT>    JSlider slider = m_PointSize.getSlider(); 
<FONT COLOR=0 STYLE="font-style:normal">709  </FONT>    psPanel.add(slider); 
<FONT COLOR=0 STYLE="font-style:normal">710  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">711  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">712  </FONT>    gbc.fill = GridBagConstraints.HORIZONTAL; 
<FONT COLOR=0 STYLE="font-style:normal">713  </FONT>    gbc.gridwidth = GridBagConstraints.REMAINDER; 
<FONT COLOR=0 STYLE="font-style:normal">714  </FONT>    add(psPanel, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">715  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">716  </FONT>    </FONT><FONT COLOR="#808080"><I>//Reset constraints</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">717  </FONT>    gbc = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridBagConstraints(); 
<FONT COLOR=0 STYLE="font-style:normal">718  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">719  </FONT>    </FONT><FONT COLOR="#808080"><I>//Botones de refresco & configuración de la transformación del color</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">720  </FONT>    JPanel ctPanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridLayout(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">721  </FONT>    ctPanel.add(m_ColorTransformSlider.getLabel()); 
<FONT COLOR=0 STYLE="font-style:normal">722  </FONT>    ctPanel.add(m_ColorTransformSlider.getSlider()); 
<FONT COLOR=0 STYLE="font-style:normal">723  </FONT>    JPanel refpanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridLayout(</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">724  </FONT>    refpanel.add(m_RefreshButton); 
<FONT COLOR=0 STYLE="font-style:normal">725  </FONT>    refpanel.add(m_CancelRefreshButton); 
<FONT COLOR=0 STYLE="font-style:normal">726  </FONT>    JPanel bcSelPanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridLayout(</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">727  </FONT>    bcSelPanel.add(m_RefreshWithBaseClassifierButton); 
<FONT COLOR=0 STYLE="font-style:normal">728  </FONT>    bcSelPanel.add(m_BaseClassifierSelector); 
<FONT COLOR=0 STYLE="font-style:normal">729  </FONT>    JPanel ctYrefPanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridLayout(</FONT><FONT COLOR="#0000ff">3</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">)); 
<FONT COLOR=0 STYLE="font-style:normal">730  </FONT>    ctYrefPanel.add(ctPanel); 
<FONT COLOR=0 STYLE="font-style:normal">731  </FONT>    ctYrefPanel.add(refpanel); 
<FONT COLOR=0 STYLE="font-style:normal">732  </FONT>    ctYrefPanel.add(bcSelPanel); 
<FONT COLOR=0 STYLE="font-style:normal">733  </FONT>    ctYrefPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(</FONT><FONT COLOR="#008000"><B>"Image build setup"</B></FONT><FONT COLOR="#000000">), 
<FONT COLOR=0 STYLE="font-style:normal">734  </FONT>                                                             BorderFactory.createEmptyBorder(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">))); 
<FONT COLOR=0 STYLE="font-style:normal">735  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">736  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">4</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">737  </FONT>    gbc.fill = GridBagConstraints.HORIZONTAL; 
<FONT COLOR=0 STYLE="font-style:normal">738  </FONT>    gbc.gridwidth = GridBagConstraints.REMAINDER; 
<FONT COLOR=0 STYLE="font-style:normal">739  </FONT>    add(ctYrefPanel, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">740  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">741  </FONT>    </FONT><FONT COLOR="#808080"><I>//Reset constraints</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">742  </FONT>    gbc = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> GridBagConstraints(); 
<FONT COLOR=0 STYLE="font-style:normal">743  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">744  </FONT>    </FONT><FONT COLOR="#808080"><I>//Barra de progreso</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">745  </FONT>    JPanel pbPanel = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> JPanel(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> BorderLayout()); 
<FONT COLOR=0 STYLE="font-style:normal">746  </FONT>    </FONT><FONT COLOR="#808080"><I>//Necesario para que no cambie la altura según se pinte o no la etiqueta</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">747  </FONT>    m_ProgressBar.setStringPainted(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">748  </FONT>    m_ProgressBar.setPreferredSize(m_ProgressBar.getPreferredSize()); 
<FONT COLOR=0 STYLE="font-style:normal">749  </FONT>    m_ProgressBar.setMinimumSize(m_ProgressBar.getPreferredSize()); 
<FONT COLOR=0 STYLE="font-style:normal">750  </FONT>    m_ProgressBar.setStringPainted(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">751  </FONT>    m_ProgressBar.setToolTipText(</FONT><FONT COLOR="#008000"><B>"Progreso de la constucción de la imagen de hipótesis"</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">752  </FONT>    pbPanel.add(m_ProgressBar, BorderLayout.NORTH); 
<FONT COLOR=0 STYLE="font-style:normal">753  </FONT>    pbPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(</FONT><FONT COLOR="#008000"><B>"Image build progress"</B></FONT><FONT COLOR="#000000">), 
<FONT COLOR=0 STYLE="font-style:normal">754  </FONT>                                                         BorderFactory.createEmptyBorder(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">))); 
<FONT COLOR=0 STYLE="font-style:normal">755  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">756  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">5</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">757  </FONT>    gbc.fill = GridBagConstraints.HORIZONTAL; 
<FONT COLOR=0 STYLE="font-style:normal">758  </FONT>    gbc.gridwidth = GridBagConstraints.REMAINDER; 
<FONT COLOR=0 STYLE="font-style:normal">759  </FONT>    add(pbPanel, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">760  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">761  </FONT>    </FONT><FONT COLOR="#808080"><I>//Etiqueta del clasificador</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">762  </FONT>    gbc.gridx = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">763  </FONT>    gbc.gridy = </FONT><FONT COLOR="#0000ff">6</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">764  </FONT>    gbc.fill = GridBagConstraints.HORIZONTAL; 
<FONT COLOR=0 STYLE="font-style:normal">765  </FONT>    gbc.gridwidth = GridBagConstraints.REMAINDER; 
<FONT COLOR=0 STYLE="font-style:normal">766  </FONT>    gbc.anchor = GridBagConstraints.CENTER; 
<FONT COLOR=0 STYLE="font-style:normal">767  </FONT>    add(m_ClassifierLabel, gbc); 
<FONT COLOR=0 STYLE="font-style:normal">768  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">769  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">770  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">771  </FONT>   * Return a valid color component (8 bits, [0-255]) for alpha, red, green and blue; 
<FONT COLOR=0 STYLE="font-style:normal">772  </FONT>   * neccesary because of round errors. 
<FONT COLOR=0 STYLE="font-style:normal">773  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">774  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> component The component value to validate 
<FONT COLOR=0 STYLE="font-style:normal">775  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> A value between 0 and 255 
<FONT COLOR=0 STYLE="font-style:normal">776  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">777  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> validColorComponent(</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> component){ 
<FONT COLOR=0 STYLE="font-style:normal">778  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (component &LT; </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">) 
<FONT COLOR=0 STYLE="font-style:normal">779  </FONT>      component = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">780  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (component &GT; </FONT><FONT COLOR="#0000ff">255</FONT><FONT COLOR="#000000">) 
<FONT COLOR=0 STYLE="font-style:normal">781  </FONT>      component = </FONT><FONT COLOR="#0000ff">255</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">782  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">783  </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> component; 
<FONT COLOR=0 STYLE="font-style:normal">784  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">785  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">786  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">787  </FONT>   * Actualiza el estado de la barra de progreso. 
<FONT COLOR=0 STYLE="font-style:normal">788  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">789  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> i El número de iteración en que se encuentra el proceso de construcción de la imagen de hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">790  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">791  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> updatePBStatus(</FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i){ 
<FONT COLOR=0 STYLE="font-style:normal">792  </FONT>    Runnable doSetProgressBarValue = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Runnable(){ 
<FONT COLOR=0 STYLE="font-style:normal">793  </FONT>      </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> run(){ 
<FONT COLOR=0 STYLE="font-style:normal">794  </FONT>        m_ProgressBar.setValue(i); 
<FONT COLOR=0 STYLE="font-style:normal">795  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">796  </FONT>    }; 
<FONT COLOR=0 STYLE="font-style:normal">797  </FONT>    SwingUtilities.invokeLater(doSetProgressBarValue); 
<FONT COLOR=0 STYLE="font-style:normal">798  </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">799  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">800  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">801  </FONT>   * Clase que implementa un SwingWorker para construir la imagen de la hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">802  </FONT>   * en el hilo de despacho de eventos; ver 
<FONT COLOR=0 STYLE="font-style:normal">803  </FONT>   * </I></FONT><FONT COLOR="#808080"><I>&LT;a</I></FONT><FONT COLOR="#808080"><I> href="http://java.sun.com/products/jfc/tsc/articles/threads/threads1.html#single_thread_rule"</I></FONT><FONT COLOR="#808080"><I>&GT;&LT;/a&GT;</I></FONT><FONT COLOR="#808080"><I> 
<FONT COLOR=0 STYLE="font-style:normal">804  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">805  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>class</B></FONT><FONT COLOR="#000000"> HypothesisImageConstructorWorker </FONT><FONT COLOR="#000080"><B>extends</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\javaTutorial\SwingWorker.java.html">SwingWorker</A>{ 
<FONT COLOR=0 STYLE="font-style:normal">806  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">807  </FONT>    </FONT><FONT COLOR="#808080"><I>//El clasificador puede cambiar durante el proceso de construcción, así que guardamos</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">808  </FONT>    </FONT><FONT COLOR="#808080"><I>//una referencia al que vamos a utilizar para construir la imagen; mejor que hacerlo sincronizado.</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">809  </FONT>    </FONT><FONT COLOR="#000080"><B>volatile</B></FONT><FONT COLOR="#000000"> Classifier c; 
<FONT COLOR=0 STYLE="font-style:normal">810  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">811  </FONT>    </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">812  </FONT>     * Constructor. 
<FONT COLOR=0 STYLE="font-style:normal">813  </FONT>     * Precaución, el clasificador no debe ser modificado externamente; mejor que bloquearlo 
<FONT COLOR=0 STYLE="font-style:normal">814  </FONT>     * o utilizar otros artefactos más complicados, lo copiamos. 
<FONT COLOR=0 STYLE="font-style:normal">815  </FONT>     * 
<FONT COLOR=0 STYLE="font-style:normal">816  </FONT>     * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> classifier El clasificador, 
<FONT COLOR=0 STYLE="font-style:normal">817  </FONT>     * 
<FONT COLOR=0 STYLE="font-style:normal">818  </FONT>     * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> Exception Si ocurre un error de serialización 
<FONT COLOR=0 STYLE="font-style:normal">819  </FONT>     */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">820  </FONT>    </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> HypothesisImageConstructorWorker(Classifier classifier) </FONT><FONT COLOR="#000080"><B>throws</B></FONT><FONT COLOR="#000000"> Exception{ 
<FONT COLOR=0 STYLE="font-style:normal">821  </FONT>      </FONT><FONT COLOR="#808080"><I>// Hacemos una copia para permitir a otros objetos seguir utilizando el</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">822  </FONT>      </FONT><FONT COLOR="#808080"><I>// antiguo clasificador.</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">823  </FONT>      SerializedObject so = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> SerializedObject(classifier); 
<FONT COLOR=0 STYLE="font-style:normal">824  </FONT>      c = (Classifier) so.getObject(); 
<FONT COLOR=0 STYLE="font-style:normal">825  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">826  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">827  </FONT>    </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">828  </FONT>     * Método en el que se crea la imagen 
<FONT COLOR=0 STYLE="font-style:normal">829  </FONT>     * 
<FONT COLOR=0 STYLE="font-style:normal">830  </FONT>     * </I></FONT><FONT COLOR="#808080"><B>@return</B></FONT><FONT COLOR="#808080"><I> La imagen o null si no ha sido creada 
<FONT COLOR=0 STYLE="font-style:normal">831  </FONT>     */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">832  </FONT>    </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> Object construct(){ 
<FONT COLOR=0 STYLE="font-style:normal">833  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">834  </FONT>      </FONT><FONT COLOR="#000080"><B>try</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">835  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">836  </FONT>        </FONT><FONT COLOR="#808080"><I>//Notificar a los mediadores que ha comenzado la construcción de la imagen</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">837  </FONT>        notifyMediators(HYPOTHESIS_IMAGE_START, c); 
<FONT COLOR=0 STYLE="font-style:normal">838  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">839  </FONT>        </FONT><FONT COLOR="#808080"><I>//Elegimos la manera de crearla, dependiendo del tipo de clasificador que estemos utilizando</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">840  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (c </FONT><FONT COLOR="#000080"><B>instanceof</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A> && m_StoreBoosterResultsCB.isSelected()) 
<FONT COLOR=0 STYLE="font-style:normal">841  </FONT>          createHypothesisSumImage((<A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A>) c); 
<FONT COLOR=0 STYLE="font-style:normal">842  </FONT>        </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (c </FONT><FONT COLOR="#000080"><B>instanceof</B></FONT><FONT COLOR="#000000"> DistributionClassifier) 
<FONT COLOR=0 STYLE="font-style:normal">843  </FONT>          createHypothesisSumImage((DistributionClassifier) c); 
<FONT COLOR=0 STYLE="font-style:normal">844  </FONT>        </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">845  </FONT>          createHypothesisImage(c); 
<FONT COLOR=0 STYLE="font-style:normal">846  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">847  </FONT>        </FONT><FONT COLOR="#808080"><I>//Notificar a los mediadores que ha finalizado con éxito la construcción de la imagen</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">848  </FONT>        notifyMediators(HYPOTHESIS_IMAGE_FINISH, c); 
<FONT COLOR=0 STYLE="font-style:normal">849  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">850  </FONT>        </FONT><FONT COLOR="#808080"><I>//Retornamos la imagen creada</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">851  </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_UseConfidenceLevelsCB.isSelected() && m_HypothesisSumImage != </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">) 
<FONT COLOR=0 STYLE="font-style:normal">852  </FONT>          </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_HypothesisSumImage; 
<FONT COLOR=0 STYLE="font-style:normal">853  </FONT>        </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_HypothesisImage; 
<FONT COLOR=0 STYLE="font-style:normal">854  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">855  </FONT>      </FONT><FONT COLOR="#000080"><B>catch</B></FONT><FONT COLOR="#000000"> (InterruptedException ex){ 
<FONT COLOR=0 STYLE="font-style:normal">856  </FONT>        </FONT><FONT COLOR="#808080"><I>//Se ha cancelado la creación por parte del usuario</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">857  </FONT>        notifyMediators(HYPOTHESIS_IMAGE_CANCELED, c); 
<FONT COLOR=0 STYLE="font-style:normal">858  </FONT>        </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">859  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">860  </FONT>      </FONT><FONT COLOR="#000080"><B>catch</B></FONT><FONT COLOR="#000000"> (Exception ex){ 
<FONT COLOR=0 STYLE="font-style:normal">861  </FONT>        </FONT><FONT COLOR="#808080"><I>//Ha habido un error</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">862  </FONT>        notifyMediators(HYPOTHESIS_IMAGE_CANCELED, c); 
<FONT COLOR=0 STYLE="font-style:normal">863  </FONT>        System.err.println(ex.toString()); 
<FONT COLOR=0 STYLE="font-style:normal">864  </FONT>        </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">865  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">866  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">867  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">868  </FONT>    </FONT><FONT COLOR="#808080"><I>/** Código que ejecuta el SwingWorker tras retornar de construct */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">869  </FONT>    </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> finished(){ 
<FONT COLOR=0 STYLE="font-style:normal">870  </FONT>      </FONT><FONT COLOR="#808080"><I>//Reseteamos la barra de progreso</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">871  </FONT>      m_ProgressBar.setStringPainted(</FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">872  </FONT>      updatePBStatus(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">873  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">874  </FONT>      </FONT><FONT COLOR="#808080"><I>//Si ha habido éxito, mandamos la imagen al panel de dibujo</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">875  </FONT>      </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (get() != </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">){ 
<FONT COLOR=0 STYLE="font-style:normal">876  </FONT>        m_DrawingPanel.setHypothesisImage((BufferedImage) get()); 
<FONT COLOR=0 STYLE="font-style:normal">877  </FONT>        m_DrawingPanel.repaint(); 
<FONT COLOR=0 STYLE="font-style:normal">878  </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">879  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">880  </FONT>      </FONT><FONT COLOR="#808080"><I>//Marcamos que ya no estamos creando la imagen y podemos empezar a crear otra</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">881  </FONT>      m_RefreshWorker = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">882  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">883  </FONT>      </FONT><FONT COLOR="#808080"><I>//(Des)habilitamos las acciones pertinentes</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">884  </FONT>      enableRefreshAction(); 
<FONT COLOR=0 STYLE="font-style:normal">885  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">886  </FONT>  }</FONT><FONT COLOR="#808080"><I>//FIN de HypothesisImageConstructorWorker</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">887  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">888  </FONT>  </FONT><FONT COLOR="#808080"><I>/////////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">889  </FONT>  </FONT><FONT COLOR="#808080"><I>///////////Funciones para crear las imágenes de hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">890  </FONT>  </FONT><FONT COLOR="#808080"><I>/////////////////////////////////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">891  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">892  </FONT>  </FONT><FONT COLOR="#808080"><I>/* 
<FONT COLOR=0 STYLE="font-style:normal">893  </FONT>    ¡Ojo!, sería mejor crear funciones más rápidas para el caso de que la rejilla tuviera un 
<FONT COLOR=0 STYLE="font-style:normal">894  </FONT>    tamaño de celda muy pequeña, por ejemplo, que solo se pinten pixeles individuales y luego escalarlas, 
<FONT COLOR=0 STYLE="font-style:normal">895  </FONT>    como en la primera versión del panel 
<FONT COLOR=0 STYLE="font-style:normal">896  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">897  </FONT>    ¡Ojo!; en el caso de que exista peligro de que las instancias cambien, se 
<FONT COLOR=0 STYLE="font-style:normal">898  </FONT>    debe crear un monitor sobre ellas. Sólo es peligroso si se borra una clase de las 
<FONT COLOR=0 STYLE="font-style:normal">899  </FONT>    instancias antes de empezar a clasificar (con el sistema actual, prácticamente imposible 
<FONT COLOR=0 STYLE="font-style:normal">900  </FONT>    a menos de que el usuario sea superman o vaya muy lento; otra opción es crear una copia 
<FONT COLOR=0 STYLE="font-style:normal">901  </FONT>    y pasarla (sólo se necesita la información de la estructura y los colores que representan cada clase 
<FONT COLOR=0 STYLE="font-style:normal">902  </FONT>  */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">903  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">904  </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">905  </FONT>   * Método que permite crear una imagen que represente la hipótesis de un clasificador 
<FONT COLOR=0 STYLE="font-style:normal">906  </FONT>   * sobre el panel de dibujado; la construimos creando una rejilla (utilizando 
<FONT COLOR=0 STYLE="font-style:normal">907  </FONT>   * la configuración de esta) en la que cada celda será pintada del color que 
<FONT COLOR=0 STYLE="font-style:normal">908  </FONT>   * el clasificador predizca para su punto intermedio. Respeta el zoom que pueda existir 
<FONT COLOR=0 STYLE="font-style:normal">909  </FONT>   * en el panel de dibujado. 
<FONT COLOR=0 STYLE="font-style:normal">910  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">911  </FONT>   * No usa grados de confianza en la predicción 
<FONT COLOR=0 STYLE="font-style:normal">912  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">913  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> classifier El clasificador del que representaremos la hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">914  </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">915  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> InterruptedException Si el usuario cancela la creación de la imagen 
<FONT COLOR=0 STYLE="font-style:normal">916  </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> Exception Si ocurre un error 
<FONT COLOR=0 STYLE="font-style:normal">917  </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">918  </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> createHypothesisImage(Classifier classifier) </FONT><FONT COLOR="#000080"><B>throws</B></FONT><FONT COLOR="#000000"> Exception{ 
<FONT COLOR=0 STYLE="font-style:normal">919  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">920  </FONT>    </FONT><FONT COLOR="#808080"><I>//Leemos los colores que representan a cada clase</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">921  </FONT>    Color colorsArray[] = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color[m_ColorsUsedByCurrentClassifier.length]; 
<FONT COLOR=0 STYLE="font-style:normal">922  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">923  </FONT>    </FONT><FONT COLOR="#808080"><I>//Preparamos el color que representará a cada clase</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">924  </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; colorsArray.length; i++){ 
<FONT COLOR=0 STYLE="font-style:normal">925  </FONT>      Color classColor = m_ColorsUsedByCurrentClassifier[i]; 
<FONT COLOR=0 STYLE="font-style:normal">926  </FONT>      colorsArray[i] = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color((</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getRed() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">927  </FONT>                                 (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getGreen() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">928  </FONT>                                 (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getBlue() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">929  </FONT>                                 (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getAlpha() * m_ColorTransform)); 
<FONT COLOR=0 STYLE="font-style:normal">930  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">931  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">932  </FONT>    </FONT><FONT COLOR="#808080"><I>//La instancia que representará el punto central de cada celda de la rejilla</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">933  </FONT>    Instance instance = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Instance(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[]{</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">}); 
<FONT COLOR=0 STYLE="font-style:normal">934  </FONT>    instance.setDataset(m_InstancesSchemeUsedByCurrentClassifier); 
<FONT COLOR=0 STYLE="font-style:normal">935  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">936  </FONT>    </FONT><FONT COLOR="#808080"><I>//Número de columnas y filas de la rejilla</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">937  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numColumns = m_Gdop.getColumns(); 
<FONT COLOR=0 STYLE="font-style:normal">938  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numRows = m_Gdop.getRows(); 
<FONT COLOR=0 STYLE="font-style:normal">939  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">940  </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño real de cada celda en el panel de dibujo (ancho y alto en puntos)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">941  </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se redondea por abajo--&GT; quedan libres recuadros</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">942  </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se redondea por arriba--&GT; Los recuadros son más grandes y abarcan todo el dibujo--&GT; OK</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">943  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> xStep = (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.ceil(m_DrawingPanel.getWidth() / (</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) numColumns); 
<FONT COLOR=0 STYLE="font-style:normal">944  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> yStep = (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.ceil(m_DrawingPanel.getHeight() / (</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) numRows); 
<FONT COLOR=0 STYLE="font-style:normal">945  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">946  </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">947  </FONT>    </FONT><FONT COLOR="#808080"><I>//Variables que utilizaremos para crear la instancia representante (centro de la celda)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">948  </FONT>    </FONT><FONT COLOR="#808080"><I>//de cada celda, pero teniendo en cuanta la escala (zoom) en el que se encuentra</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">949  </FONT>    </FONT><FONT COLOR="#808080"><I>//la región de dibujado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">950  </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">951  </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño de las celdas (ya escalado)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">952  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> xInstanceStep, yInstanceStep, xInstanceStepHalf, yInstanceStepHalf; 
<FONT COLOR=0 STYLE="font-style:normal">953  </FONT>    </FONT><FONT COLOR="#808080"><I>//Origen de la siguiente celda (columna, fila)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">954  </FONT>    </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> instanceX, instanceY; 
<FONT COLOR=0 STYLE="font-style:normal">955  </FONT>    </FONT><FONT COLOR="#808080"><I>//El origen de la rejilla en el eje de ordenadas (tenemos que recuperarlo cada vez que acabamos una fila)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">956  </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> instanceYOrigin; 
<FONT COLOR=0 STYLE="font-style:normal">957  </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_DrawingPanel.isZoomedIn()){ 
<FONT COLOR=0 STYLE="font-style:normal">958  </FONT>      </FONT><FONT COLOR="#808080"><I>//Nos aseguramos de que la instancia es realmente representativa del correspondiente cuadro:</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">959  </FONT>      </FONT><FONT COLOR="#808080"><I>//  getXFromPanel(x) &LT;= instanceX + xInstanceStepHalf &LT;= getXFromPanel(x + xStep)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">960  </FONT>      </FONT><FONT COLOR="#808080"><I>//  getYFromPanel(y) &LT;= instanceY + yInstanceStepHalf &LT;= getYFromPanel(y + yStep)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">961  </FONT>      </FONT><FONT COLOR="#808080"><I>// Independientemente del tamaño del panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">962  </FONT>      xInstanceStep = m_DrawingPanel.getXFromPanel(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000"> * xStep) - m_DrawingPanel.getXFromPanel(xStep); 
<FONT COLOR=0 STYLE="font-style:normal">963  </FONT>      yInstanceStep = m_DrawingPanel.getYFromPanel(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000"> * yStep) - m_DrawingPanel.getYFromPanel(yStep); 
<FONT COLOR=0 STYLE="font-style:normal">964  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">965  </FONT>      </FONT><FONT COLOR="#808080"><I>//El origen del cuadro escalado y trasladado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">966  </FONT>      instanceX = m_DrawingPanel.getRegionX(); 
<FONT COLOR=0 STYLE="font-style:normal">967  </FONT>      instanceYOrigin = instanceY = m_DrawingPanel.getRegionY(); 
<FONT COLOR=0 STYLE="font-style:normal">968  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">969  </FONT>    </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">970  </FONT>      xInstanceStep = xStep; 
<FONT COLOR=0 STYLE="font-style:normal">971  </FONT>      yInstanceStep = yStep; 
<FONT COLOR=0 STYLE="font-style:normal">972  </FONT>      instanceX = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">973  </FONT>      instanceYOrigin = instanceY = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">974  </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">975  </FONT>    </FONT><FONT COLOR="#808080"><I>//El punto representativo de una celda (será pintada de aquel color que sea clasificada</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">976  </FONT>    </FONT><FONT COLOR="#808080"><I>//por el clasificador) es:</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">977  </FONT>    </FONT><FONT COLOR="#808080"><I>//  x = Número de columna [0, numColumnas) * xInstanceStep + xInstanceStepHalf</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">978  </FONT>    </FONT><FONT COLOR="#808080"><I>//  y = Número de fila [0, numFilas)* yInstanceStep + yInstanceStepHaf</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">979  </FONT>    xInstanceStepHalf = xInstanceStep / </FONT><FONT COLOR="#0000ff">2.0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">980  </FONT>    yInstanceStepHalf = yInstanceStep / </FONT><FONT COLOR="#0000ff">2.0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">981  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">982  </FONT>    </FONT><FONT COLOR="#808080"><I>//La imagen que representará la hipótesis</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">983  </FONT>    BufferedImage bi = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> BufferedImage(m_DrawingPanel.getWidth(), m_DrawingPanel.getHeight(), BufferedImage.TYPE_INT_ARGB); 
<FONT COLOR=0 STYLE="font-style:normal">984  </FONT>    Graphics2D g2 = (Graphics2D) bi.getGraphics(); 
<FONT COLOR=0 STYLE="font-style:normal">985  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">986  </FONT>    </FONT><FONT COLOR="#808080"><I>//El índice de celda que se está computando y el número total que se computará</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">987  </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> index = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">988  </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numberOfIns = numColumns * numRows; 
<FONT COLOR=0 STYLE="font-style:normal">989  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">990  </FONT>    </FONT><FONT COLOR="#808080"><I>//Configuración de la barra de progreso</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">991  </FONT>    m_ProgressBar.setMinimum(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">992  </FONT>    m_ProgressBar.setMaximum(numberOfIns); 
<FONT COLOR=0 STYLE="font-style:normal">993  </FONT>    m_ProgressBar.setStringPainted(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">994  </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">995  </FONT></FONT><FONT COLOR="#808080"><I>//Celda (posición absoluta):</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">996  </FONT></FONT><FONT COLOR="#808080"><I>//           x = i*xStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">997  </FONT></FONT><FONT COLOR="#808080"><I>//           y = j*yStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">998  </FONT></FONT><FONT COLOR="#808080"><I>//           width = xStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">999  </FONT></FONT><FONT COLOR="#808080"><I>//           height = yStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1000 </FONT></FONT><FONT COLOR="#808080"><I>//           Punto central = (x + xStep / 2, y + yStep / 2)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1001 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> x = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1002 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> y = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1003 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1004 </FONT>    </FONT><FONT COLOR="#808080"><I>//Hacemos el recorrido de izquierda a derecha...</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1005 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; numColumns; i++){ 
<FONT COLOR=0 STYLE="font-style:normal">1006 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1007 </FONT>      </FONT><FONT COLOR="#808080"><I>//Valor x de la instancia que representa la celda</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1008 </FONT>      instance.setValue(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, instanceX + xInstanceStepHalf); 
<FONT COLOR=0 STYLE="font-style:normal">1009 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1010 </FONT>      </FONT><FONT COLOR="#808080"><I>//... y de arriba hacia abajo</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1011 </FONT>      </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> j = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; j &LT; numRows; j++){ 
<FONT COLOR=0 STYLE="font-style:normal">1012 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1013 </FONT>        </FONT><FONT COLOR="#808080"><I>//Monitorizamos que el usuario decida interrumpir el proceso</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1014 </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (Thread.interrupted()) 
<FONT COLOR=0 STYLE="font-style:normal">1015 </FONT>          </FONT><FONT COLOR="#000080"><B>throw</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> InterruptedException(); 
<FONT COLOR=0 STYLE="font-style:normal">1016 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1017 </FONT>        </FONT><FONT COLOR="#808080"><I>//Valor y de la instancia que representa la celda</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1018 </FONT>        instance.setValue(</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, instanceY + yInstanceStepHalf); 
<FONT COLOR=0 STYLE="font-style:normal">1019 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1020 </FONT>        </FONT><FONT COLOR="#808080"><I>//Actualizamos la barra de progreso</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1021 </FONT>        updatePBStatus(index); 
<FONT COLOR=0 STYLE="font-style:normal">1022 </FONT>        index++; 
<FONT COLOR=0 STYLE="font-style:normal">1023 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1024 </FONT>        </FONT><FONT COLOR="#808080"><I>//El color de la celda, el que predizca el clasificador</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1025 </FONT>        g2.setColor(colorsArray[(</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) classifier.classifyInstance(instance)]); 
<FONT COLOR=0 STYLE="font-style:normal">1026 </FONT>        g2.fillRect(Math.round(x), Math.round(y), xStep, yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1027 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1028 </FONT>        </FONT><FONT COLOR="#808080"><I>//Actualizamos las coordenadas de la instancia para la siguiente columna</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1029 </FONT>        instanceY += yInstanceStep; 
<FONT COLOR=0 STYLE="font-style:normal">1030 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1031 </FONT>        </FONT><FONT COLOR="#808080"><I>//Actualizamos las coordenadas absolutas de la celda en el panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1032 </FONT>        y += yStep; 
<FONT COLOR=0 STYLE="font-style:normal">1033 </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">1034 </FONT>      </FONT><FONT COLOR="#808080"><I>//Actualizamos las coordenadas de la instancia para la siguiente fila</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1035 </FONT>      instanceX += xInstanceStep; 
<FONT COLOR=0 STYLE="font-style:normal">1036 </FONT>      instanceY = instanceYOrigin; 
<FONT COLOR=0 STYLE="font-style:normal">1037 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1038 </FONT>      </FONT><FONT COLOR="#808080"><I>//Actualizamos las coordenadas absolutas de la celda (fila) en el panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1039 </FONT>      x += xStep; 
<FONT COLOR=0 STYLE="font-style:normal">1040 </FONT>      y = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1041 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1042 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1043 </FONT>    </FONT><FONT COLOR="#808080"><I>//Informamos al panel de dibujo de con qué configuración de rejilla hemos creado la nueva imagen</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1044 </FONT>    m_DrawingPanel.setGridColumnWidth(xStep); 
<FONT COLOR=0 STYLE="font-style:normal">1045 </FONT>    m_DrawingPanel.setGridRowHeight(yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1046 </FONT>    m_DrawingPanel.setGridWidth(m_DrawingPanel.getWidth()); 
<FONT COLOR=0 STYLE="font-style:normal">1047 </FONT>    m_DrawingPanel.setGridHeight(m_DrawingPanel.getHeight()); 
<FONT COLOR=0 STYLE="font-style:normal">1048 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1049 </FONT>    </FONT><FONT COLOR="#808080"><I>//Guardamos</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1050 </FONT>    m_HypothesisImage = bi; 
<FONT COLOR=0 STYLE="font-style:normal">1051 </FONT>    m_HypothesisSumImage = </FONT><FONT COLOR="#000080"><B>null</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1052 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1053 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1054 </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">1055 </FONT>   * Método que permite crear una imagen que represente la hipótesis de un clasificador 
<FONT COLOR=0 STYLE="font-style:normal">1056 </FONT>   * sobre el panel de dibujado; la construimos creando una rejilla (utilizando 
<FONT COLOR=0 STYLE="font-style:normal">1057 </FONT>   * la configuración de esta) en la que cada celda será pintada del color que 
<FONT COLOR=0 STYLE="font-style:normal">1058 </FONT>   * el clasificador predizca para su punto intermedio. Respeta el zoom que pueda existir 
<FONT COLOR=0 STYLE="font-style:normal">1059 </FONT>   * en el panel de dibujado. 
<FONT COLOR=0 STYLE="font-style:normal">1060 </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">1061 </FONT>   * Usa grados de confianza en la predicción 
<FONT COLOR=0 STYLE="font-style:normal">1062 </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">1063 </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> classifier El clasificador del que representaremos la hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">1064 </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">1065 </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> InterruptedException Si el usuario cancela la creación de la imagen 
<FONT COLOR=0 STYLE="font-style:normal">1066 </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> Exception Si ocurre un error 
<FONT COLOR=0 STYLE="font-style:normal">1067 </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1068 </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> createHypothesisSumImage(DistributionClassifier classifier) </FONT><FONT COLOR="#000080"><B>throws</B></FONT><FONT COLOR="#000000"> Exception{ 
<FONT COLOR=0 STYLE="font-style:normal">1069 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1070 </FONT>    </FONT><FONT COLOR="#808080"><I>//Sólo comento los puntos que son distintos de createHypothesisImage</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1071 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1072 </FONT>    Color colorsArray2[] = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color[m_ColorsUsedByCurrentClassifier.length]; 
<FONT COLOR=0 STYLE="font-style:normal">1073 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1074 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; colorsArray2.length; i++){ 
<FONT COLOR=0 STYLE="font-style:normal">1075 </FONT>      Color classColor = m_ColorsUsedByCurrentClassifier[i]; 
<FONT COLOR=0 STYLE="font-style:normal">1076 </FONT>      colorsArray2[i] = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color((</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getRed() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">1077 </FONT>                                  (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getGreen() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">1078 </FONT>                                  (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getBlue() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">1079 </FONT>                                  (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getAlpha() * m_ColorTransform)); 
<FONT COLOR=0 STYLE="font-style:normal">1080 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1081 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1082 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">[] colorsArray = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">[colorsArray2.length]; 
<FONT COLOR=0 STYLE="font-style:normal">1083 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; colorsArray2.length; i++) 
<FONT COLOR=0 STYLE="font-style:normal">1084 </FONT>      colorsArray[i] = colorsArray2[i].getRGB(); 
<FONT COLOR=0 STYLE="font-style:normal">1085 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1086 </FONT>    Instance instance = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Instance(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[]{</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">}); 
<FONT COLOR=0 STYLE="font-style:normal">1087 </FONT>    instance.setDataset(m_InstancesSchemeUsedByCurrentClassifier); 
<FONT COLOR=0 STYLE="font-style:normal">1088 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1089 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numColumns = m_Gdop.getColumns(); 
<FONT COLOR=0 STYLE="font-style:normal">1090 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numRows = m_Gdop.getRows(); 
<FONT COLOR=0 STYLE="font-style:normal">1091 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1092 </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño real de cada celda en el panel de dibujo (ancho y alto en puntos)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1093 </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se redondea por abajo--&GT; quedan libres recuadros</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1094 </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se redondea por arriba--&GT; Los recuadros son más grandes y abarcan todo el dibujo--&GT; OK</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1095 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> xStep = (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.ceil(m_DrawingPanel.getWidth() / (</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) numColumns); 
<FONT COLOR=0 STYLE="font-style:normal">1096 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> yStep = (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.ceil(m_DrawingPanel.getHeight() / (</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) numRows); 
<FONT COLOR=0 STYLE="font-style:normal">1097 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1098 </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1099 </FONT>    </FONT><FONT COLOR="#808080"><I>//Variables que utilizaremos para crear la instancia representante (centro de la celda)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1100 </FONT>    </FONT><FONT COLOR="#808080"><I>//de cada celda, pero teniendo en cuanta la escala (zoom) en el que se encuentra</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1101 </FONT>    </FONT><FONT COLOR="#808080"><I>//la región de dibujado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1102 </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1103 </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño de las celdas (ya escalado)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1104 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> xInstanceStep, yInstanceStep, xInstanceStepHalf, yInstanceStepHalf; 
<FONT COLOR=0 STYLE="font-style:normal">1105 </FONT>    </FONT><FONT COLOR="#808080"><I>//Origen de la siguiente celda (columna, fila)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1106 </FONT>    </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> instanceX, instanceY; 
<FONT COLOR=0 STYLE="font-style:normal">1107 </FONT>    </FONT><FONT COLOR="#808080"><I>//El origen de la rejilla en el eje de ordenadas (tenemos que recuperarlo cada vez que acabamos una fila)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1108 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> instanceYOrigin; 
<FONT COLOR=0 STYLE="font-style:normal">1109 </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_DrawingPanel.isZoomedIn()){ 
<FONT COLOR=0 STYLE="font-style:normal">1110 </FONT>      </FONT><FONT COLOR="#808080"><I>//Nos aseguramos de que la instancia es realmente representativa del correspondiente cuadro:</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1111 </FONT>      </FONT><FONT COLOR="#808080"><I>//  getXFromPanel(x) &LT;= instanceX + xInstanceStepHalf &LT;= getXFromPanel(x + xStep)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1112 </FONT>      </FONT><FONT COLOR="#808080"><I>//  getYFromPanel(y) &LT;= instanceY + yInstanceStepHalf &LT;= getYFromPanel(y + yStep)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1113 </FONT>      </FONT><FONT COLOR="#808080"><I>// Independientemente del tamaño del panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1114 </FONT>      xInstanceStep = m_DrawingPanel.getXFromPanel(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000"> * xStep) - m_DrawingPanel.getXFromPanel(xStep); 
<FONT COLOR=0 STYLE="font-style:normal">1115 </FONT>      yInstanceStep = m_DrawingPanel.getYFromPanel(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000"> * yStep) - m_DrawingPanel.getYFromPanel(yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1116 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1117 </FONT>      </FONT><FONT COLOR="#808080"><I>//El origen del cuadro escalado y trasladado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1118 </FONT>      instanceX = m_DrawingPanel.getRegionX(); 
<FONT COLOR=0 STYLE="font-style:normal">1119 </FONT>      instanceYOrigin = instanceY = m_DrawingPanel.getRegionY(); 
<FONT COLOR=0 STYLE="font-style:normal">1120 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1121 </FONT>    </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">1122 </FONT>      xInstanceStep = xStep; 
<FONT COLOR=0 STYLE="font-style:normal">1123 </FONT>      yInstanceStep = yStep; 
<FONT COLOR=0 STYLE="font-style:normal">1124 </FONT>      instanceX = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1125 </FONT>      instanceYOrigin = instanceY = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1126 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1127 </FONT>    </FONT><FONT COLOR="#808080"><I>//El punto representativo de una celda (será pintada de aquel color que sea clasificada</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1128 </FONT>    </FONT><FONT COLOR="#808080"><I>//por el clasificador) es:</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1129 </FONT>    </FONT><FONT COLOR="#808080"><I>//  x = Número de columna [0, numColumnas) * xInstanceStep + xInstanceStepHalf</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1130 </FONT>    </FONT><FONT COLOR="#808080"><I>//  y = Número de fila [0, numFilas)* yInstanceStep + yInstanceStepHaf</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1131 </FONT>    xInstanceStepHalf = xInstanceStep / </FONT><FONT COLOR="#0000ff">2.0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1132 </FONT>    yInstanceStepHalf = yInstanceStep / </FONT><FONT COLOR="#0000ff">2.0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1133 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1134 </FONT>    </FONT><FONT COLOR="#808080"><I>//Esta vez sí usamos grados de confianza para crear dos imágenes: la predicción absoluta (bi2)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1135 </FONT>    </FONT><FONT COLOR="#808080"><I>//y la que utiliza el porcentaje de confianza en cada clase (bi)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1136 </FONT>    BufferedImage bi = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> BufferedImage(m_DrawingPanel.getWidth(), m_DrawingPanel.getHeight(), BufferedImage.TYPE_INT_ARGB); 
<FONT COLOR=0 STYLE="font-style:normal">1137 </FONT>    Graphics2D g = bi.createGraphics(); 
<FONT COLOR=0 STYLE="font-style:normal">1138 </FONT>    BufferedImage bi2 = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> BufferedImage(m_DrawingPanel.getWidth(), m_DrawingPanel.getHeight(), BufferedImage.TYPE_INT_ARGB); 
<FONT COLOR=0 STYLE="font-style:normal">1139 </FONT>    Graphics2D g2 = bi2.createGraphics(); 
<FONT COLOR=0 STYLE="font-style:normal">1140 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1141 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> index = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1142 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numberOfIns = numColumns * numRows; 
<FONT COLOR=0 STYLE="font-style:normal">1143 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1144 </FONT>    m_ProgressBar.setMinimum(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">1145 </FONT>    m_ProgressBar.setMaximum(numberOfIns); 
<FONT COLOR=0 STYLE="font-style:normal">1146 </FONT>    m_ProgressBar.setStringPainted(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">1147 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1148 </FONT></FONT><FONT COLOR="#808080"><I>//Celda (posición absoluta):</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1149 </FONT></FONT><FONT COLOR="#808080"><I>//           x = i*xStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1150 </FONT></FONT><FONT COLOR="#808080"><I>//           y = j*yStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1151 </FONT></FONT><FONT COLOR="#808080"><I>//           width = xStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1152 </FONT></FONT><FONT COLOR="#808080"><I>//           height = yStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1153 </FONT></FONT><FONT COLOR="#808080"><I>//           Punto central = (x + xStep / 2, y + yStep / 2)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1154 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1155 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> x = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1156 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> y = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1157 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1158 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; numColumns; i++){ 
<FONT COLOR=0 STYLE="font-style:normal">1159 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1160 </FONT>      instance.setValue(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, instanceX + xInstanceStepHalf); 
<FONT COLOR=0 STYLE="font-style:normal">1161 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1162 </FONT>      </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> j = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; j &LT; numRows; j++){ 
<FONT COLOR=0 STYLE="font-style:normal">1163 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1164 </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (Thread.interrupted()) 
<FONT COLOR=0 STYLE="font-style:normal">1165 </FONT>          </FONT><FONT COLOR="#000080"><B>throw</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> InterruptedException(); 
<FONT COLOR=0 STYLE="font-style:normal">1166 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1167 </FONT>        instance.setValue(</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, instanceY + yInstanceStepHalf); 
<FONT COLOR=0 STYLE="font-style:normal">1168 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1169 </FONT>        updatePBStatus(index); 
<FONT COLOR=0 STYLE="font-style:normal">1170 </FONT>        index++; 
<FONT COLOR=0 STYLE="font-style:normal">1171 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1172 </FONT>        </FONT><FONT COLOR="#808080"><I>//Consultamos por la predicción del clasificador, con porcentaje de seguridad en cada clase</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1173 </FONT>        </FONT><FONT COLOR="#808080"><I>//¡Ojo!; presuponemos que las predicciones ya están normalizadas para sumar 1</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1174 </FONT>        </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[] components = classifier.distributionForInstance(instance); 
<FONT COLOR=0 STYLE="font-style:normal">1175 </FONT>        </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> red = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, green = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, blue = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, alpha = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1176 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1177 </FONT>        </FONT><FONT COLOR="#808080"><I>//El color de la celda en la imagen que utiliza grados de confianza será una suma</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1178 </FONT>        </FONT><FONT COLOR="#808080"><I>//ponderada de las componentes de cada color según la confianza del clasificador en dicho color</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1179 </FONT>        </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> selectedColor = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1180 </FONT>        </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> maxValue = Double.MIN_VALUE; 
<FONT COLOR=0 STYLE="font-style:normal">1181 </FONT>        </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> k = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; k &LT; components.length; k++){ 
<FONT COLOR=0 STYLE="font-style:normal">1182 </FONT>          </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> colorPct = components[k]; 
<FONT COLOR=0 STYLE="font-style:normal">1183 </FONT>          </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (colorPct &GT; maxValue){ 
<FONT COLOR=0 STYLE="font-style:normal">1184 </FONT>            selectedColor = k; 
<FONT COLOR=0 STYLE="font-style:normal">1185 </FONT>            maxValue = colorPct; 
<FONT COLOR=0 STYLE="font-style:normal">1186 </FONT>          } 
<FONT COLOR=0 STYLE="font-style:normal">1187 </FONT>          red += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getRed() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1188 </FONT>          green += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getGreen() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1189 </FONT>          blue += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getBlue() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1190 </FONT>          alpha += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getAlpha() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1191 </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">1192 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1193 </FONT>        </FONT><FONT COLOR="#808080"><I>//Las componentes pueden haberse salido del rango válido por los redondeos; lo solucionamos</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1194 </FONT>        alpha = validColorComponent(alpha); 
<FONT COLOR=0 STYLE="font-style:normal">1195 </FONT>        red = validColorComponent(red); 
<FONT COLOR=0 STYLE="font-style:normal">1196 </FONT>        green = validColorComponent(green); 
<FONT COLOR=0 STYLE="font-style:normal">1197 </FONT>        blue = validColorComponent(blue); 
<FONT COLOR=0 STYLE="font-style:normal">1198 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1199 </FONT>        </FONT><FONT COLOR="#808080"><I>//El color compuesto por las predicciones</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1200 </FONT>        g.setColor(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color(red, green, blue, alpha)); 
<FONT COLOR=0 STYLE="font-style:normal">1201 </FONT>        g.fillRect(x, y, xStep, yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1202 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1203 </FONT>        </FONT><FONT COLOR="#808080"><I>//El color en el que el clasificador tiene mayor confianza</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1204 </FONT>        g2.setColor(colorsArray2[selectedColor]); 
<FONT COLOR=0 STYLE="font-style:normal">1205 </FONT>        g2.fillRect(x, y, xStep, yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1206 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1207 </FONT>        instanceY += yInstanceStep; 
<FONT COLOR=0 STYLE="font-style:normal">1208 </FONT>        y += yStep; 
<FONT COLOR=0 STYLE="font-style:normal">1209 </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">1210 </FONT>      instanceX += xInstanceStep; 
<FONT COLOR=0 STYLE="font-style:normal">1211 </FONT>      instanceY = instanceYOrigin; 
<FONT COLOR=0 STYLE="font-style:normal">1212 </FONT>      x += xStep; 
<FONT COLOR=0 STYLE="font-style:normal">1213 </FONT>      y = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1214 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1215 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1216 </FONT>    m_DrawingPanel.setGridColumnWidth(xStep); 
<FONT COLOR=0 STYLE="font-style:normal">1217 </FONT>    m_DrawingPanel.setGridRowHeight(yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1218 </FONT>    m_DrawingPanel.setGridWidth(m_DrawingPanel.getWidth()); 
<FONT COLOR=0 STYLE="font-style:normal">1219 </FONT>    m_DrawingPanel.setGridHeight(m_DrawingPanel.getHeight()); 
<FONT COLOR=0 STYLE="font-style:normal">1220 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1221 </FONT>    m_HypothesisImage = bi2; 
<FONT COLOR=0 STYLE="font-style:normal">1222 </FONT>    m_HypothesisSumImage = bi; 
<FONT COLOR=0 STYLE="font-style:normal">1223 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1224 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1225 </FONT>  </FONT><FONT COLOR="#808080"><I>/** 
<FONT COLOR=0 STYLE="font-style:normal">1226 </FONT>   * Método que permite crear una imagen que represente la hipótesis de un clasificador 
<FONT COLOR=0 STYLE="font-style:normal">1227 </FONT>   * sobre el panel de dibujado; la construimos creando una rejilla (utilizando 
<FONT COLOR=0 STYLE="font-style:normal">1228 </FONT>   * la configuración de esta) en la que cada celda será pintada del color que 
<FONT COLOR=0 STYLE="font-style:normal">1229 </FONT>   * el clasificador predizca para su punto intermedio. Respeta el zoom que pueda existir 
<FONT COLOR=0 STYLE="font-style:normal">1230 </FONT>   * en el panel de dibujado. 
<FONT COLOR=0 STYLE="font-style:normal">1231 </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">1232 </FONT>   * Usa grados de confianza y construcción iterativa en la predicción 
<FONT COLOR=0 STYLE="font-style:normal">1233 </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">1234 </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@param</B></FONT><FONT COLOR="#808080"><I> classifier El clasificador del que representaremos la hipótesis 
<FONT COLOR=0 STYLE="font-style:normal">1235 </FONT>   * 
<FONT COLOR=0 STYLE="font-style:normal">1236 </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> InterruptedException Si el usuario cancela la creación de la imagen 
<FONT COLOR=0 STYLE="font-style:normal">1237 </FONT>   * </I></FONT><FONT COLOR="#808080"><B>@throws</B></FONT><FONT COLOR="#808080"><I> Exception Si ocurre un error 
<FONT COLOR=0 STYLE="font-style:normal">1238 </FONT>   */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1239 </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> createHypothesisSumImage(<A href="..\..\oaidtb\boosters\IterativeUpdatableClassifier.java.html">IterativeUpdatableClassifier</A> classifier) </FONT><FONT COLOR="#000080"><B>throws</B></FONT><FONT COLOR="#000000"> Exception{ 
<FONT COLOR=0 STYLE="font-style:normal">1240 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1241 </FONT>    </FONT><FONT COLOR="#808080"><I>//Sólo comento los puntos que son distintos de createHypothesisImage & createHypothesisSumImage (Distrib...</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1242 </FONT>    Color[] colorsArray2 = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color[m_ColorsUsedByCurrentClassifier.length]; 
<FONT COLOR=0 STYLE="font-style:normal">1243 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1244 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; colorsArray2.length; i++){ 
<FONT COLOR=0 STYLE="font-style:normal">1245 </FONT>      Color classColor = m_ColorsUsedByCurrentClassifier[i]; 
<FONT COLOR=0 STYLE="font-style:normal">1246 </FONT>      colorsArray2[i] = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color((</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getRed() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">1247 </FONT>                                  (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getGreen() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">1248 </FONT>                                  (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getBlue() * m_ColorTransform), 
<FONT COLOR=0 STYLE="font-style:normal">1249 </FONT>                                  (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) (classColor.getAlpha() * m_ColorTransform)); 
<FONT COLOR=0 STYLE="font-style:normal">1250 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1251 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1252 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">[] colorsArray = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">[colorsArray2.length]; 
<FONT COLOR=0 STYLE="font-style:normal">1253 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; colorsArray2.length; i++) 
<FONT COLOR=0 STYLE="font-style:normal">1254 </FONT>      colorsArray[i] = colorsArray2[i].getRGB(); 
<FONT COLOR=0 STYLE="font-style:normal">1255 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1256 </FONT>    Instance instance = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Instance(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[]{</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, -</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">}); 
<FONT COLOR=0 STYLE="font-style:normal">1257 </FONT>    instance.setDataset(m_InstancesSchemeUsedByCurrentClassifier); 
<FONT COLOR=0 STYLE="font-style:normal">1258 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1259 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numColumns = m_Gdop.getColumns(); 
<FONT COLOR=0 STYLE="font-style:normal">1260 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numRows = m_Gdop.getRows(); 
<FONT COLOR=0 STYLE="font-style:normal">1261 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1262 </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño real de cada celda en el panel de dibujo (ancho y alto en puntos)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1263 </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se redondea por abajo--&GT; quedan libres recuadros</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1264 </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se redondea por arriba--&GT; Los recuadros son más grandes y abarcan todo el dibujo--&GT; OK</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1265 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> xStep = (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.ceil(m_DrawingPanel.getWidth() / (</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) numColumns); 
<FONT COLOR=0 STYLE="font-style:normal">1266 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> yStep = (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.ceil(m_DrawingPanel.getHeight() / (</FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">) numRows); 
<FONT COLOR=0 STYLE="font-style:normal">1267 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1268 </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1269 </FONT>    </FONT><FONT COLOR="#808080"><I>//Variables que utilizaremos para crear la instancia representante (centro de la celda)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1270 </FONT>    </FONT><FONT COLOR="#808080"><I>//de cada celda, pero teniendo en cuanta la escala (zoom) en el que se encuentra</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1271 </FONT>    </FONT><FONT COLOR="#808080"><I>//la región de dibujado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1272 </FONT>    </FONT><FONT COLOR="#808080"><I>/////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1273 </FONT>    </FONT><FONT COLOR="#808080"><I>//Tamaño de las celdas (ya escalado)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1274 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> xInstanceStep, yInstanceStep, xInstanceStepHalf, yInstanceStepHalf; 
<FONT COLOR=0 STYLE="font-style:normal">1275 </FONT>    </FONT><FONT COLOR="#808080"><I>//Origen de la siguiente celda (columna, fila)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1276 </FONT>    </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> instanceX, instanceY; 
<FONT COLOR=0 STYLE="font-style:normal">1277 </FONT>    </FONT><FONT COLOR="#808080"><I>//El origen de la rejilla en el eje de ordenadas (tenemos que recuperarlo cada vez que acabamos una fila)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1278 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> instanceYOrigin; 
<FONT COLOR=0 STYLE="font-style:normal">1279 </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_DrawingPanel.isZoomedIn()){ 
<FONT COLOR=0 STYLE="font-style:normal">1280 </FONT>      </FONT><FONT COLOR="#808080"><I>//Nos aseguramos de que la instancia es realmente representativa de la correspondiente celda:</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1281 </FONT>      </FONT><FONT COLOR="#808080"><I>//  getXFromPanel(x) &LT;= instanceX + xInstanceStepHalf &LT;= getXFromPanel(x + xStep)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1282 </FONT>      </FONT><FONT COLOR="#808080"><I>//  getYFromPanel(y) &LT;= instanceY + yInstanceStepHalf &LT;= getYFromPanel(y + yStep)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1283 </FONT>      </FONT><FONT COLOR="#808080"><I>// Independientemente del tamaño del panel</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1284 </FONT>      xInstanceStep = m_DrawingPanel.getXFromPanel(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000"> * xStep) - m_DrawingPanel.getXFromPanel(xStep); 
<FONT COLOR=0 STYLE="font-style:normal">1285 </FONT>      yInstanceStep = m_DrawingPanel.getYFromPanel(</FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000"> * yStep) - m_DrawingPanel.getYFromPanel(yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1286 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1287 </FONT>      </FONT><FONT COLOR="#808080"><I>//El origen del cuadro escalado y trasladado</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1288 </FONT>      instanceX = m_DrawingPanel.getRegionX(); 
<FONT COLOR=0 STYLE="font-style:normal">1289 </FONT>      instanceYOrigin = instanceY = m_DrawingPanel.getRegionY(); 
<FONT COLOR=0 STYLE="font-style:normal">1290 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1291 </FONT>    </FONT><FONT COLOR="#000080"><B>else</B></FONT><FONT COLOR="#000000">{ 
<FONT COLOR=0 STYLE="font-style:normal">1292 </FONT>      xInstanceStep = xStep; 
<FONT COLOR=0 STYLE="font-style:normal">1293 </FONT>      yInstanceStep = yStep; 
<FONT COLOR=0 STYLE="font-style:normal">1294 </FONT>      instanceX = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1295 </FONT>      instanceYOrigin = instanceY = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1296 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1297 </FONT>    </FONT><FONT COLOR="#808080"><I>//El punto representativo de una celda (será pintada de aquel color que sea clasificada</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1298 </FONT>    </FONT><FONT COLOR="#808080"><I>//por el clasificador) es:</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1299 </FONT>    </FONT><FONT COLOR="#808080"><I>//  x = Número de columna [0, numColumnas) * xInstanceStep + xInstanceStepHalf</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1300 </FONT>    </FONT><FONT COLOR="#808080"><I>//  y = Número de fila [0, numFilas)* yInstanceStep + yInstanceStepHaf</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1301 </FONT>    xInstanceStepHalf = xInstanceStep / </FONT><FONT COLOR="#0000ff">2.0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1302 </FONT>    yInstanceStepHalf = yInstanceStep / </FONT><FONT COLOR="#0000ff">2.0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1303 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1304 </FONT>    BufferedImage bi = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> BufferedImage(m_DrawingPanel.getWidth(), m_DrawingPanel.getHeight(), BufferedImage.TYPE_INT_ARGB); 
<FONT COLOR=0 STYLE="font-style:normal">1305 </FONT>    Graphics2D g = bi.createGraphics(); 
<FONT COLOR=0 STYLE="font-style:normal">1306 </FONT>    BufferedImage bi2 = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> BufferedImage(m_DrawingPanel.getWidth(), m_DrawingPanel.getHeight(), BufferedImage.TYPE_INT_ARGB); 
<FONT COLOR=0 STYLE="font-style:normal">1307 </FONT>    Graphics2D g2 = bi2.createGraphics(); 
<FONT COLOR=0 STYLE="font-style:normal">1308 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1309 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> index = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1310 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numberOfIns = numColumns * numRows; 
<FONT COLOR=0 STYLE="font-style:normal">1311 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1312 </FONT>    m_ProgressBar.setMinimum(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">1313 </FONT>    m_ProgressBar.setMaximum(numberOfIns); 
<FONT COLOR=0 STYLE="font-style:normal">1314 </FONT>    m_ProgressBar.setStringPainted(</FONT><FONT COLOR="#000080"><B>true</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">1315 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1316 </FONT>    </FONT><FONT COLOR="#808080"><I>//Si es necesario, empezamos desde cero</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1317 </FONT>    </FONT><FONT COLOR="#808080"><I>//(Clasificador nuevo, cambio de los parámetros de la rejilla, cambio del tamaño del panel o zoom)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1318 </FONT>    Rectangle2D.Double region = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Rectangle2D.Double(m_DrawingPanel.getRegionX(), 
<FONT COLOR=0 STYLE="font-style:normal">1319 </FONT>                                                       m_DrawingPanel.getRegionY(), 
<FONT COLOR=0 STYLE="font-style:normal">1320 </FONT>                                                       m_DrawingPanel.getRegionWidth(), 
<FONT COLOR=0 STYLE="font-style:normal">1321 </FONT>                                                       m_DrawingPanel.getRegionHeight()); 
<FONT COLOR=0 STYLE="font-style:normal">1322 </FONT>    </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (m_NewIterativeUpdatableClassifier || m_LastGridWidth != numColumns || m_LastGridHeigt != numRows 
<FONT COLOR=0 STYLE="font-style:normal">1323 </FONT>      || !m_LastRegion.equals(region) || numberOfIns != m_BoosterResults.length){ 
<FONT COLOR=0 STYLE="font-style:normal">1324 </FONT>      m_LastGridWidth = numColumns; 
<FONT COLOR=0 STYLE="font-style:normal">1325 </FONT>      m_LastGridHeigt = numRows; 
<FONT COLOR=0 STYLE="font-style:normal">1326 </FONT>      m_LastIterationUsed = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1327 </FONT>      m_BoosterResults = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[numColumns * numRows][m_ColorsUsedByCurrentClassifier.length]; 
<FONT COLOR=0 STYLE="font-style:normal">1328 </FONT>      m_NewIterativeUpdatableClassifier = </FONT><FONT COLOR="#000080"><B>false</B></FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1329 </FONT>      m_LastRegion = region; 
<FONT COLOR=0 STYLE="font-style:normal">1330 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1331 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1332 </FONT>    </FONT><FONT COLOR="#808080"><I>//Si se realizan nuevas iteraciones mientras se crea esta imagen no queremos que se usen</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1333 </FONT>    </FONT><FONT COLOR="#808080"><I>//hasta una nueva llamada</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1334 </FONT>    </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numIterationsPerformed = classifier.getNumIterationsPerformed(); 
<FONT COLOR=0 STYLE="font-style:normal">1335 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1336 </FONT></FONT><FONT COLOR="#808080"><I>//Celda (valores absolutos en la pantalla)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1337 </FONT></FONT><FONT COLOR="#808080"><I>//           x = i*xStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1338 </FONT></FONT><FONT COLOR="#808080"><I>//           y = j*yStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1339 </FONT></FONT><FONT COLOR="#808080"><I>//           width = xStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1340 </FONT></FONT><FONT COLOR="#808080"><I>//           height = yStep</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1341 </FONT></FONT><FONT COLOR="#808080"><I>//           Punto central = (x + xStep / 2, y + yStep / 2)</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1342 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1343 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> x = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1344 </FONT>    </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> y = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1345 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1346 </FONT>    </FONT><FONT COLOR="#808080"><I>//Array para normalizar las predicciones, de manera que sumen 1</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1347 </FONT>    </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[] normalized = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[m_ColorsUsedByCurrentClassifier.length]; 
<FONT COLOR=0 STYLE="font-style:normal">1348 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1349 </FONT>    </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> i = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; i &LT; numColumns; i++){ 
<FONT COLOR=0 STYLE="font-style:normal">1350 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1351 </FONT>      instance.setValue(</FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, instanceX + xInstanceStepHalf); 
<FONT COLOR=0 STYLE="font-style:normal">1352 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1353 </FONT>      </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> j = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; j &LT; numRows; j++){ 
<FONT COLOR=0 STYLE="font-style:normal">1354 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1355 </FONT>        instance.setValue(</FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, instanceY + yInstanceStepHalf); 
<FONT COLOR=0 STYLE="font-style:normal">1356 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1357 </FONT>        updatePBStatus(index); 
<FONT COLOR=0 STYLE="font-style:normal">1358 </FONT>        index++; 
<FONT COLOR=0 STYLE="font-style:normal">1359 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1360 </FONT>        </FONT><FONT COLOR="#808080"><I>//Dependiendo de a que nivel (dentro de los bucles for) lo hagamos, se hará más veces,</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1361 </FONT>        </FONT><FONT COLOR="#808080"><I>//pero antes se hará la cancelación; interesante si, por ejemplo, tenemos que usar 5000</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1362 </FONT>        </FONT><FONT COLOR="#808080"><I>//iteraciones del booster (la cancelación tardaría mucho).</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1363 </FONT>        </FONT><FONT COLOR="#808080"><I>//El nivel que más velocidad de cancelación daría</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1364 </FONT>        </FONT><FONT COLOR="#808080"><I>//(y que más sobrecarga computacional tiene) es el meterlo en</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1365 </FONT>        </FONT><FONT COLOR="#808080"><I>//el siguiente bucle; lo dejamos aquí por conveniencia.</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1366 </FONT>        </FONT><FONT COLOR="#808080"><I>//NO sería desanconsejable usar stop() en vez de interrupt()...</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1367 </FONT>        </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (Thread.interrupted()) 
<FONT COLOR=0 STYLE="font-style:normal">1368 </FONT>          </FONT><FONT COLOR="#000080"><B>throw</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> InterruptedException(); 
<FONT COLOR=0 STYLE="font-style:normal">1369 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1370 </FONT>        </FONT><FONT COLOR="#808080"><I>//Usamos el api de la clase IterativeUpdatableClassifier que permite reconstruir</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1371 </FONT>        </FONT><FONT COLOR="#808080"><I>//la hipótesis desde una iteración cualquiera</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1372 </FONT>        </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000">[] components = m_BoosterResults[index - </FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000">]; 
<FONT COLOR=0 STYLE="font-style:normal">1373 </FONT>        </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> it = m_LastIterationUsed; it &LT; numIterationsPerformed; it++){ 
<FONT COLOR=0 STYLE="font-style:normal">1374 </FONT>          <A href="..\..\oaidtb\misc\Utils.java.html">Utils</A>.doubleArraysSum(components, classifier.getClassifierVote(instance, it)); 
<FONT COLOR=0 STYLE="font-style:normal">1375 </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">1376 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1377 </FONT>        </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> red = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, green = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, blue = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, alpha = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1378 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1379 </FONT>        </FONT><FONT COLOR="#808080"><I>//Normalizamos el array, el resto como en el método anterior</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1380 </FONT>        System.arraycopy(components, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, normalized, </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, components.length); 
<FONT COLOR=0 STYLE="font-style:normal">1381 </FONT>        <A href="..\..\oaidtb\misc\Utils.java.html">Utils</A>.secureNormalize(normalized); 
<FONT COLOR=0 STYLE="font-style:normal">1382 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1383 </FONT>        </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> selectedColor = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1384 </FONT>        </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> maxValue = Double.MIN_VALUE; 
<FONT COLOR=0 STYLE="font-style:normal">1385 </FONT>        </FONT><FONT COLOR="#000080"><B>for</B></FONT><FONT COLOR="#000000"> (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> k = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; k &LT; normalized.length; k++){ 
<FONT COLOR=0 STYLE="font-style:normal">1386 </FONT>          </FONT><FONT COLOR="#000080"><B>double</B></FONT><FONT COLOR="#000000"> colorPct = normalized[k]; 
<FONT COLOR=0 STYLE="font-style:normal">1387 </FONT>          </FONT><FONT COLOR="#000080"><B>if</B></FONT><FONT COLOR="#000000"> (colorPct &GT; maxValue){ 
<FONT COLOR=0 STYLE="font-style:normal">1388 </FONT>            selectedColor = k; 
<FONT COLOR=0 STYLE="font-style:normal">1389 </FONT>            maxValue = colorPct; 
<FONT COLOR=0 STYLE="font-style:normal">1390 </FONT>          } 
<FONT COLOR=0 STYLE="font-style:normal">1391 </FONT>          red += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getRed() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1392 </FONT>          green += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getGreen() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1393 </FONT>          blue += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getBlue() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1394 </FONT>          alpha += (</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000">) Math.round(colorsArray2[k].getAlpha() * colorPct); 
<FONT COLOR=0 STYLE="font-style:normal">1395 </FONT>        } 
<FONT COLOR=0 STYLE="font-style:normal">1396 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1397 </FONT>        alpha = validColorComponent(alpha); 
<FONT COLOR=0 STYLE="font-style:normal">1398 </FONT>        red = validColorComponent(red); 
<FONT COLOR=0 STYLE="font-style:normal">1399 </FONT>        green = validColorComponent(green); 
<FONT COLOR=0 STYLE="font-style:normal">1400 </FONT>        blue = validColorComponent(blue); 
<FONT COLOR=0 STYLE="font-style:normal">1401 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1402 </FONT>        g.setColor(</FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> Color(red, green, blue, alpha)); 
<FONT COLOR=0 STYLE="font-style:normal">1403 </FONT>        g.fillRect(x, y, xStep, yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1404 </FONT>        g2.setColor(colorsArray2[selectedColor]); 
<FONT COLOR=0 STYLE="font-style:normal">1405 </FONT>        g2.fillRect(x, y, xStep, yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1406 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1407 </FONT>        instanceY += yInstanceStep; 
<FONT COLOR=0 STYLE="font-style:normal">1408 </FONT>        y += yStep; 
<FONT COLOR=0 STYLE="font-style:normal">1409 </FONT>      } 
<FONT COLOR=0 STYLE="font-style:normal">1410 </FONT>      instanceX += xInstanceStep; 
<FONT COLOR=0 STYLE="font-style:normal">1411 </FONT>      instanceY = instanceYOrigin; 
<FONT COLOR=0 STYLE="font-style:normal">1412 </FONT>      x += xStep; 
<FONT COLOR=0 STYLE="font-style:normal">1413 </FONT>      y = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1414 </FONT>    } 
<FONT COLOR=0 STYLE="font-style:normal">1415 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1416 </FONT>    </FONT><FONT COLOR="#808080"><I>//En una próxima llamada, reiniaremos los cálculos desde esta iteración</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1417 </FONT>    m_LastIterationUsed = classifier.getNumIterationsPerformed(); 
<FONT COLOR=0 STYLE="font-style:normal">1418 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1419 </FONT>    m_DrawingPanel.setGridColumnWidth(xStep); 
<FONT COLOR=0 STYLE="font-style:normal">1420 </FONT>    m_DrawingPanel.setGridRowHeight(yStep); 
<FONT COLOR=0 STYLE="font-style:normal">1421 </FONT>    m_DrawingPanel.setGridWidth(m_DrawingPanel.getWidth()); 
<FONT COLOR=0 STYLE="font-style:normal">1422 </FONT>    m_DrawingPanel.setGridHeight(m_DrawingPanel.getHeight()); 
<FONT COLOR=0 STYLE="font-style:normal">1423 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1424 </FONT>    m_HypothesisImage = bi2; 
<FONT COLOR=0 STYLE="font-style:normal">1425 </FONT>    m_HypothesisSumImage = bi; 
<FONT COLOR=0 STYLE="font-style:normal">1426 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1427 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1428 </FONT>  </FONT><FONT COLOR="#808080"><I>//-----------------------------///////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1429 </FONT>  </FONT><FONT COLOR="#808080"><I>//------------------ ARBITRABLE IMPLEMENTATION ///////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1430 </FONT>  </FONT><FONT COLOR="#808080"><I>//-----------------------------///////////////////////////////////</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1431 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1432 </FONT>  </FONT><FONT COLOR="#808080"><I>// Private field which will be used to implement the Arbitable interface.</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1433 </FONT>  </FONT><FONT COLOR="#000080"><B>private</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Colleague.java.html">Colleague</A> m_Colleague = </FONT><FONT COLOR="#000080"><B>new</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Colleague.java.html">Colleague</A>(</FONT><FONT COLOR="#000080"><B>this</B></FONT><FONT COLOR="#000000">); 
<FONT COLOR=0 STYLE="font-style:normal">1434 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1435 </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> <A href="..\..\oaidtb\misc\mediator\Arbitrable.java.html">Arbitrable</A> getColleague(){ 
<FONT COLOR=0 STYLE="font-style:normal">1436 </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_Colleague; 
<FONT COLOR=0 STYLE="font-style:normal">1437 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1438 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1439 </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> addMediator(<A href="..\..\oaidtb\misc\mediator\Mediator.java.html">Mediator</A> mediator){ 
<FONT COLOR=0 STYLE="font-style:normal">1440 </FONT>    m_Colleague.addMediator(mediator); 
<FONT COLOR=0 STYLE="font-style:normal">1441 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1442 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1443 </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> removeMediator(<A href="..\..\oaidtb\misc\mediator\Mediator.java.html">Mediator</A> mediator){ 
<FONT COLOR=0 STYLE="font-style:normal">1444 </FONT>    m_Colleague.removeMediator(mediator); 
<FONT COLOR=0 STYLE="font-style:normal">1445 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1446 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1447 </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>void</B></FONT><FONT COLOR="#000000"> notifyMediators(</FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> whatChanged, Object object){ 
<FONT COLOR=0 STYLE="font-style:normal">1448 </FONT>    m_Colleague.notifyMediators(whatChanged, object); 
<FONT COLOR=0 STYLE="font-style:normal">1449 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1450 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1451 </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> numberOfMediators(){ 
<FONT COLOR=0 STYLE="font-style:normal">1452 </FONT>    </FONT><FONT COLOR="#000080"><B>return</B></FONT><FONT COLOR="#000000"> m_Colleague.numberOfMediators(); 
<FONT COLOR=0 STYLE="font-style:normal">1453 </FONT>  } 
<FONT COLOR=0 STYLE="font-style:normal">1454 </FONT> 
<FONT COLOR=0 STYLE="font-style:normal">1455 </FONT>  </FONT><FONT COLOR="#808080"><I>// Change indicator constants</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1456 </FONT>  </FONT><FONT COLOR="#808080"><I>/** Indicador de mensaje para los mediadores, acompañado del clasificador utilizado para crear la imagen */</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1457 </FONT>  </FONT><FONT COLOR="#000080"><B>public</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>final</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>static</B></FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#000080"><B>int</B></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1458 </FONT>    HYPOTHESIS_IMAGE_START = </FONT><FONT COLOR="#0000ff">0</FONT><FONT COLOR="#000000">, 
<FONT COLOR=0 STYLE="font-style:normal">1459 </FONT>    HYPOTHESIS_IMAGE_FINISH = </FONT><FONT COLOR="#0000ff">1</FONT><FONT COLOR="#000000">, 
<FONT COLOR=0 STYLE="font-style:normal">1460 </FONT>    HYPOTHESIS_IMAGE_CANCELED = </FONT><FONT COLOR="#0000ff">2</FONT><FONT COLOR="#000000">; 
<FONT COLOR=0 STYLE="font-style:normal">1461 </FONT>  </FONT><FONT COLOR="#808080"><I>//No tiene demasiado sentido testear unitariamente esta clase</I></FONT><FONT COLOR="#000000"> 
<FONT COLOR=0 STYLE="font-style:normal">1462 </FONT>}</FONT></PRE>
</BODY>
</HTML>